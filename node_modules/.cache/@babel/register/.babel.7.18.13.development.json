{"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _index = _interopRequireDefault(require(\"./routes/index\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar app = (0, _express[\"default\"])();\nvar port = process.env.PORT || 5000;\napp.use(_express[\"default\"].json());\n(0, _index[\"default\"])(app);\napp.listen(port, function () {\n  console.log(\"Server running on port \".concat(port));\n});\nvar _default = app;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwidXNlIiwianNvbiIsIlJvdXRlcyIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6Ii9hbHgvYWx4LWZpbGVzX21hbmFnZXIvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgUm91dGVzIGZyb20gJy4vcm91dGVzL2luZGV4JztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcblxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5Sb3V0ZXMoYXBwKTtcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgb24gcG9ydCAke3BvcnR9YCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXBwOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsSUFBTUEsR0FBRyxHQUFHLElBQUFDLG1CQUFBLEdBQVo7QUFDQSxJQUFNQyxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQWpDO0FBRUFMLEdBQUcsQ0FBQ00sR0FBSixDQUFRTCxtQkFBQSxDQUFRTSxJQUFSLEVBQVI7QUFDQSxJQUFBQyxpQkFBQSxFQUFPUixHQUFQO0FBQ0FBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXUCxJQUFYLEVBQWlCLFlBQU07RUFDckJRLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NULElBQXRDO0FBQ0QsQ0FGRDtlQUllRixHIn0=","map":{"version":3,"names":["app","express","port","process","env","PORT","use","json","Routes","listen","console","log"],"sourceRoot":"/alx/alx-files_manager/","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport Routes from './routes/index';\n\nconst app = express();\nconst port = process.env.PORT || 5000;\n\napp.use(express.json());\nRoutes(app);\napp.listen(port, () => {\n  console.log(`Server running on port ${port}`);\n});\n\nexport default app;"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,IAAAC,mBAAA,GAAZ;AACA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEAL,GAAG,CAACM,GAAJ,CAAQL,mBAAA,CAAQM,IAAR,EAAR;AACA,IAAAC,iBAAA,EAAOR,GAAP;AACAA,GAAG,CAACS,MAAJ,CAAWP,IAAX,EAAiB,YAAM;EACrBQ,OAAO,CAACC,GAAR,kCAAsCT,IAAtC;AACD,CAFD;eAIeF,G"}},"mtime":1661495726851},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/routes/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AppController = _interopRequireDefault(require(\"../controllers/AppController\"));\n\nvar _AuthController = _interopRequireDefault(require(\"../controllers/AuthController\"));\n\nvar _FilesController = _interopRequireDefault(require(\"../controllers/FilesController\"));\n\nvar _UsersController = _interopRequireDefault(require(\"../controllers/UsersController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction controllerRouting(app) {\n  var router = _express[\"default\"].Router();\n\n  app.use('/', router);\n  router.get('/status', function (req, res) {\n    _AppController[\"default\"].getStatus(req, res);\n  });\n  router.get('/stats', function (req, res) {\n    _AppController[\"default\"].getStats(req, res);\n  });\n  router.post('/users', function (req, res) {\n    _UsersController[\"default\"].postNew(req, res);\n  });\n  router.get('/connect', function (req, res) {\n    _AuthController[\"default\"].getConnect(req, res);\n  });\n  router.get('/disconnect', function (req, res) {\n    _AuthController[\"default\"].getDisconnect(req, res);\n  });\n  router.get('/users/me', function (req, res) {\n    _UsersController[\"default\"].getMe(req, res);\n  });\n  router.post('/files', function (req, res) {\n    _FilesController[\"default\"].postUpload(req, res);\n  });\n  router.get('/files/:id', function (req, res) {\n    _FilesController[\"default\"].getShow(req, res);\n  });\n  router.get('/files', function (req, res) {\n    _FilesController[\"default\"].getIndex(req, res);\n  });\n  router.put('/files/:id/publish', function (req, res) {\n    _FilesController[\"default\"].putPublish(req, res);\n  });\n  router.put('/files/:id/unpublish', function (req, res) {\n    _FilesController[\"default\"].putUnpublish(req, res);\n  });\n  router.get('/files/:id/data', function (req, res) {\n    _FilesController[\"default\"].getFile(req, res);\n  });\n}\n\nvar _default = controllerRouting;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb250cm9sbGVyUm91dGluZyIsImFwcCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJBcHBDb250cm9sbGVyIiwiZ2V0U3RhdHVzIiwiZ2V0U3RhdHMiLCJwb3N0IiwiVXNlcnNDb250cm9sbGVyIiwicG9zdE5ldyIsIkF1dGhDb250cm9sbGVyIiwiZ2V0Q29ubmVjdCIsImdldERpc2Nvbm5lY3QiLCJnZXRNZSIsIkZpbGVzQ29udHJvbGxlciIsInBvc3RVcGxvYWQiLCJnZXRTaG93IiwiZ2V0SW5kZXgiLCJwdXQiLCJwdXRQdWJsaXNoIiwicHV0VW5wdWJsaXNoIiwiZ2V0RmlsZSJdLCJzb3VyY2VSb290IjoiL2FseC9hbHgtZmlsZXNfbWFuYWdlci9yb3V0ZXMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBBcHBDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0FwcENvbnRyb2xsZXInO1xuaW1wb3J0IEF1dGhDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0F1dGhDb250cm9sbGVyJztcbmltcG9ydCBGaWxlc0NvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvRmlsZXNDb250cm9sbGVyJztcbmltcG9ydCBVc2Vyc0NvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlcnNDb250cm9sbGVyJztcblxuZnVuY3Rpb24gY29udHJvbGxlclJvdXRpbmcoYXBwKSB7XG4gIGNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4gIGFwcC51c2UoJy8nLCByb3V0ZXIpO1xuXG4gIHJvdXRlci5nZXQoJy9zdGF0dXMnLCAocmVxLCByZXMpID0+IHtcbiAgICBBcHBDb250cm9sbGVyLmdldFN0YXR1cyhyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5nZXQoJy9zdGF0cycsIChyZXEsIHJlcykgPT4ge1xuICAgIEFwcENvbnRyb2xsZXIuZ2V0U3RhdHMocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIucG9zdCgnL3VzZXJzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgVXNlcnNDb250cm9sbGVyLnBvc3ROZXcocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIuZ2V0KCcvY29ubmVjdCcsIChyZXEsIHJlcykgPT4ge1xuICAgIEF1dGhDb250cm9sbGVyLmdldENvbm5lY3QocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIuZ2V0KCcvZGlzY29ubmVjdCcsIChyZXEsIHJlcykgPT4ge1xuICAgIEF1dGhDb250cm9sbGVyLmdldERpc2Nvbm5lY3QocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIuZ2V0KCcvdXNlcnMvbWUnLCAocmVxLCByZXMpID0+IHtcbiAgICBVc2Vyc0NvbnRyb2xsZXIuZ2V0TWUocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIucG9zdCgnL2ZpbGVzJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgRmlsZXNDb250cm9sbGVyLnBvc3RVcGxvYWQocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIuZ2V0KCcvZmlsZXMvOmlkJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgRmlsZXNDb250cm9sbGVyLmdldFNob3cocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIuZ2V0KCcvZmlsZXMnLCAocmVxLCByZXMpID0+IHtcbiAgICBGaWxlc0NvbnRyb2xsZXIuZ2V0SW5kZXgocmVxLCByZXMpO1xuICB9KTtcblxuICByb3V0ZXIucHV0KCcvZmlsZXMvOmlkL3B1Ymxpc2gnLCAocmVxLCByZXMpID0+IHtcbiAgICBGaWxlc0NvbnRyb2xsZXIucHV0UHVibGlzaChyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5wdXQoJy9maWxlcy86aWQvdW5wdWJsaXNoJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgRmlsZXNDb250cm9sbGVyLnB1dFVucHVibGlzaChyZXEsIHJlcyk7XG4gIH0pO1xuXG4gIHJvdXRlci5nZXQoJy9maWxlcy86aWQvZGF0YScsIChyZXEsIHJlcykgPT4ge1xuICAgIEZpbGVzQ29udHJvbGxlci5nZXRGaWxlKHJlcSwgcmVzKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRyb2xsZXJSb3V0aW5nOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsU0FBU0EsaUJBQVQsQ0FBMkJDLEdBQTNCLEVBQWdDO0VBQzlCLElBQU1DLE1BQU0sR0FBR0MsbUJBQUEsQ0FBUUMsTUFBUixFQUFmOztFQUNBSCxHQUFHLENBQUNJLEdBQUosQ0FBUSxHQUFSLEVBQWFILE1BQWI7RUFFQUEsTUFBTSxDQUFDSSxHQUFQLENBQVcsU0FBWCxFQUFzQixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztJQUNsQ0MseUJBQUEsQ0FBY0MsU0FBZCxDQUF3QkgsR0FBeEIsRUFBNkJDLEdBQTdCO0VBQ0QsQ0FGRDtFQUlBTixNQUFNLENBQUNJLEdBQVAsQ0FBVyxRQUFYLEVBQXFCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQ2pDQyx5QkFBQSxDQUFjRSxRQUFkLENBQXVCSixHQUF2QixFQUE0QkMsR0FBNUI7RUFDRCxDQUZEO0VBSUFOLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLFFBQVosRUFBc0IsVUFBQ0wsR0FBRCxFQUFNQyxHQUFOLEVBQWM7SUFDbENLLDJCQUFBLENBQWdCQyxPQUFoQixDQUF3QlAsR0FBeEIsRUFBNkJDLEdBQTdCO0VBQ0QsQ0FGRDtFQUlBTixNQUFNLENBQUNJLEdBQVAsQ0FBVyxVQUFYLEVBQXVCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQ25DTywwQkFBQSxDQUFlQyxVQUFmLENBQTBCVCxHQUExQixFQUErQkMsR0FBL0I7RUFDRCxDQUZEO0VBSUFOLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLGFBQVgsRUFBMEIsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7SUFDdENPLDBCQUFBLENBQWVFLGFBQWYsQ0FBNkJWLEdBQTdCLEVBQWtDQyxHQUFsQztFQUNELENBRkQ7RUFJQU4sTUFBTSxDQUFDSSxHQUFQLENBQVcsV0FBWCxFQUF3QixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztJQUNwQ0ssMkJBQUEsQ0FBZ0JLLEtBQWhCLENBQXNCWCxHQUF0QixFQUEyQkMsR0FBM0I7RUFDRCxDQUZEO0VBSUFOLE1BQU0sQ0FBQ1UsSUFBUCxDQUFZLFFBQVosRUFBc0IsVUFBQ0wsR0FBRCxFQUFNQyxHQUFOLEVBQWM7SUFDbENXLDJCQUFBLENBQWdCQyxVQUFoQixDQUEyQmIsR0FBM0IsRUFBZ0NDLEdBQWhDO0VBQ0QsQ0FGRDtFQUlBTixNQUFNLENBQUNJLEdBQVAsQ0FBVyxZQUFYLEVBQXlCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0lBQ3JDVywyQkFBQSxDQUFnQkUsT0FBaEIsQ0FBd0JkLEdBQXhCLEVBQTZCQyxHQUE3QjtFQUNELENBRkQ7RUFJQU4sTUFBTSxDQUFDSSxHQUFQLENBQVcsUUFBWCxFQUFxQixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztJQUNqQ1csMkJBQUEsQ0FBZ0JHLFFBQWhCLENBQXlCZixHQUF6QixFQUE4QkMsR0FBOUI7RUFDRCxDQUZEO0VBSUFOLE1BQU0sQ0FBQ3FCLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQyxVQUFDaEIsR0FBRCxFQUFNQyxHQUFOLEVBQWM7SUFDN0NXLDJCQUFBLENBQWdCSyxVQUFoQixDQUEyQmpCLEdBQTNCLEVBQWdDQyxHQUFoQztFQUNELENBRkQ7RUFJQU4sTUFBTSxDQUFDcUIsR0FBUCxDQUFXLHNCQUFYLEVBQW1DLFVBQUNoQixHQUFELEVBQU1DLEdBQU4sRUFBYztJQUMvQ1csMkJBQUEsQ0FBZ0JNLFlBQWhCLENBQTZCbEIsR0FBN0IsRUFBa0NDLEdBQWxDO0VBQ0QsQ0FGRDtFQUlBTixNQUFNLENBQUNJLEdBQVAsQ0FBVyxpQkFBWCxFQUE4QixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztJQUMxQ1csMkJBQUEsQ0FBZ0JPLE9BQWhCLENBQXdCbkIsR0FBeEIsRUFBNkJDLEdBQTdCO0VBQ0QsQ0FGRDtBQUdEOztlQUVjUixpQiJ9","map":{"version":3,"names":["controllerRouting","app","router","express","Router","use","get","req","res","AppController","getStatus","getStats","post","UsersController","postNew","AuthController","getConnect","getDisconnect","getMe","FilesController","postUpload","getShow","getIndex","put","putPublish","putUnpublish","getFile"],"sourceRoot":"/alx/alx-files_manager/routes/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport AppController from '../controllers/AppController';\nimport AuthController from '../controllers/AuthController';\nimport FilesController from '../controllers/FilesController';\nimport UsersController from '../controllers/UsersController';\n\nfunction controllerRouting(app) {\n  const router = express.Router();\n  app.use('/', router);\n\n  router.get('/status', (req, res) => {\n    AppController.getStatus(req, res);\n  });\n\n  router.get('/stats', (req, res) => {\n    AppController.getStats(req, res);\n  });\n\n  router.post('/users', (req, res) => {\n    UsersController.postNew(req, res);\n  });\n\n  router.get('/connect', (req, res) => {\n    AuthController.getConnect(req, res);\n  });\n\n  router.get('/disconnect', (req, res) => {\n    AuthController.getDisconnect(req, res);\n  });\n\n  router.get('/users/me', (req, res) => {\n    UsersController.getMe(req, res);\n  });\n\n  router.post('/files', (req, res) => {\n    FilesController.postUpload(req, res);\n  });\n\n  router.get('/files/:id', (req, res) => {\n    FilesController.getShow(req, res);\n  });\n\n  router.get('/files', (req, res) => {\n    FilesController.getIndex(req, res);\n  });\n\n  router.put('/files/:id/publish', (req, res) => {\n    FilesController.putPublish(req, res);\n  });\n\n  router.put('/files/:id/unpublish', (req, res) => {\n    FilesController.putUnpublish(req, res);\n  });\n\n  router.get('/files/:id/data', (req, res) => {\n    FilesController.getFile(req, res);\n  });\n}\n\nexport default controllerRouting;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,SAASA,iBAAT,CAA2BC,GAA3B,EAAgC;EAC9B,IAAMC,MAAM,GAAGC,mBAAA,CAAQC,MAAR,EAAf;;EACAH,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAaH,MAAb;EAEAA,MAAM,CAACI,GAAP,CAAW,SAAX,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAc;IAClCC,yBAAA,CAAcC,SAAd,CAAwBH,GAAxB,EAA6BC,GAA7B;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,QAAX,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACjCC,yBAAA,CAAcE,QAAd,CAAuBJ,GAAvB,EAA4BC,GAA5B;EACD,CAFD;EAIAN,MAAM,CAACU,IAAP,CAAY,QAAZ,EAAsB,UAACL,GAAD,EAAMC,GAAN,EAAc;IAClCK,2BAAA,CAAgBC,OAAhB,CAAwBP,GAAxB,EAA6BC,GAA7B;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,UAAX,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACnCO,0BAAA,CAAeC,UAAf,CAA0BT,GAA1B,EAA+BC,GAA/B;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,aAAX,EAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;IACtCO,0BAAA,CAAeE,aAAf,CAA6BV,GAA7B,EAAkCC,GAAlC;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,WAAX,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACpCK,2BAAA,CAAgBK,KAAhB,CAAsBX,GAAtB,EAA2BC,GAA3B;EACD,CAFD;EAIAN,MAAM,CAACU,IAAP,CAAY,QAAZ,EAAsB,UAACL,GAAD,EAAMC,GAAN,EAAc;IAClCW,2BAAA,CAAgBC,UAAhB,CAA2Bb,GAA3B,EAAgCC,GAAhC;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,YAAX,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACrCW,2BAAA,CAAgBE,OAAhB,CAAwBd,GAAxB,EAA6BC,GAA7B;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,QAAX,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAc;IACjCW,2BAAA,CAAgBG,QAAhB,CAAyBf,GAAzB,EAA8BC,GAA9B;EACD,CAFD;EAIAN,MAAM,CAACqB,GAAP,CAAW,oBAAX,EAAiC,UAAChB,GAAD,EAAMC,GAAN,EAAc;IAC7CW,2BAAA,CAAgBK,UAAhB,CAA2BjB,GAA3B,EAAgCC,GAAhC;EACD,CAFD;EAIAN,MAAM,CAACqB,GAAP,CAAW,sBAAX,EAAmC,UAAChB,GAAD,EAAMC,GAAN,EAAc;IAC/CW,2BAAA,CAAgBM,YAAhB,CAA6BlB,GAA7B,EAAkCC,GAAlC;EACD,CAFD;EAIAN,MAAM,CAACI,GAAP,CAAW,iBAAX,EAA8B,UAACC,GAAD,EAAMC,GAAN,EAAc;IAC1CW,2BAAA,CAAgBO,OAAhB,CAAwBnB,GAAxB,EAA6BC,GAA7B;EACD,CAFD;AAGD;;eAEcR,iB"}},"mtime":1661496181250},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/controllers/AppController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar Redis = require('../utils/redis');\n\nvar DB = require('../utils/db');\n\nvar AppController = /*#__PURE__*/function () {\n  function AppController() {\n    _classCallCheck(this, AppController);\n  }\n\n  _createClass(AppController, null, [{\n    key: \"getStatus\",\n    value: function getStatus(req, res) {\n      if (Redis.isAlive() && DB.isAlive()) {\n        return res.status(200).json({\n          redis: true,\n          db: true\n        });\n      }\n\n      return res.status(400).send('Redis and MongoDB not connected');\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats(req, res) {\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var users, files;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return DB.nbUsers();\n\n              case 2:\n                users = _context.sent;\n                _context.next = 5;\n                return DB.nbFiles();\n\n              case 5:\n                files = _context.sent;\n                return _context.abrupt(\"return\", res.status(200).json({\n                  users: users,\n                  files: files\n                }));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }]);\n\n  return AppController;\n}();\n\nmodule.exports = AppController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWRpcyIsInJlcXVpcmUiLCJEQiIsIkFwcENvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJpc0FsaXZlIiwic3RhdHVzIiwianNvbiIsInJlZGlzIiwiZGIiLCJzZW5kIiwibmJVc2VycyIsInVzZXJzIiwibmJGaWxlcyIsImZpbGVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2FseC9hbHgtZmlsZXNfbWFuYWdlci9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkFwcENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUmVkaXMgPSByZXF1aXJlKCcuLi91dGlscy9yZWRpcycpO1xuY29uc3QgREIgPSByZXF1aXJlKCcuLi91dGlscy9kYicpO1xuXG5jbGFzcyBBcHBDb250cm9sbGVyIHtcbiAgc3RhdGljIGdldFN0YXR1cyhyZXEsIHJlcykge1xuICAgIGlmIChSZWRpcy5pc0FsaXZlKCkgJiYgREIuaXNBbGl2ZSgpKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyByZWRpczogdHJ1ZSwgZGI6IHRydWUgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnUmVkaXMgYW5kIE1vbmdvREIgbm90IGNvbm5lY3RlZCcpO1xuICB9XG5cbiAgc3RhdGljIGdldFN0YXRzKHJlcSwgcmVzKSB7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgREIubmJVc2VycygpO1xuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBEQi5uYkZpbGVzKCk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VycywgZmlsZXMgfSk7XG4gICAgfSkoKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcENvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7K0NBQ0Esb0o7Ozs7Ozs7Ozs7OztBQURBLElBQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQXJCOztBQUNBLElBQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLGFBQUQsQ0FBbEI7O0lBRU1FLGE7Ozs7Ozs7V0FDSixtQkFBaUJDLEdBQWpCLEVBQXNCQyxHQUF0QixFQUEyQjtNQUN6QixJQUFJTCxLQUFLLENBQUNNLE9BQU4sTUFBbUJKLEVBQUUsQ0FBQ0ksT0FBSCxFQUF2QixFQUFxQztRQUNuQyxPQUFPRCxHQUFHLENBQUNFLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtVQUFFQyxLQUFLLEVBQUUsSUFBVDtVQUFlQyxFQUFFLEVBQUU7UUFBbkIsQ0FBckIsQ0FBUDtNQUNEOztNQUNELE9BQU9MLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVgsRUFBZ0JJLElBQWhCLENBQXFCLGlDQUFyQixDQUFQO0lBQ0Q7OztXQUVELGtCQUFnQlAsR0FBaEIsRUFBcUJDLEdBQXJCLEVBQTBCO01BQ3hCLDJEQUFDO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtnQkFBQSxPQUNxQkgsRUFBRSxDQUFDVSxPQUFILEVBRHJCOztjQUFBO2dCQUNPQyxLQURQO2dCQUFBO2dCQUFBLE9BRXFCWCxFQUFFLENBQUNZLE9BQUgsRUFGckI7O2NBQUE7Z0JBRU9DLEtBRlA7Z0JBQUEsaUNBR1FWLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2tCQUFFSyxLQUFLLEVBQUxBLEtBQUY7a0JBQVNFLEtBQUssRUFBTEE7Z0JBQVQsQ0FBckIsQ0FIUjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQ0FBRDtJQUtEOzs7Ozs7QUFHSEMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZCxhQUFqQiJ9","map":{"version":3,"names":["Redis","require","DB","AppController","req","res","isAlive","status","json","redis","db","send","nbUsers","users","nbFiles","files","module","exports"],"sourceRoot":"/alx/alx-files_manager/controllers/","sources":["AppController.js"],"sourcesContent":["const Redis = require('../utils/redis');\nconst DB = require('../utils/db');\n\nclass AppController {\n  static getStatus(req, res) {\n    if (Redis.isAlive() && DB.isAlive()) {\n      return res.status(200).json({ redis: true, db: true });\n    }\n    return res.status(400).send('Redis and MongoDB not connected');\n  }\n\n  static getStats(req, res) {\n    (async () => {\n      const users = await DB.nbUsers();\n      const files = await DB.nbFiles();\n      return res.status(200).json({ users, files });\n    })();\n  }\n}\n\nmodule.exports = AppController;\n"],"mappings":";;;;+CACA,oJ;;;;;;;;;;;;AADA,IAAMA,KAAK,GAAGC,OAAO,CAAC,gBAAD,CAArB;;AACA,IAAMC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAlB;;IAEME,a;;;;;;;WACJ,mBAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;MACzB,IAAIL,KAAK,CAACM,OAAN,MAAmBJ,EAAE,CAACI,OAAH,EAAvB,EAAqC;QACnC,OAAOD,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;UAAEC,KAAK,EAAE,IAAT;UAAeC,EAAE,EAAE;QAAnB,CAArB,CAAP;MACD;;MACD,OAAOL,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,iCAArB,CAAP;IACD;;;WAED,kBAAgBP,GAAhB,EAAqBC,GAArB,EAA0B;MACxB,2DAAC;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACqBH,EAAE,CAACU,OAAH,EADrB;;cAAA;gBACOC,KADP;gBAAA;gBAAA,OAEqBX,EAAE,CAACY,OAAH,EAFrB;;cAAA;gBAEOC,KAFP;gBAAA,iCAGQV,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;kBAAEK,KAAK,EAALA,KAAF;kBAASE,KAAK,EAALA;gBAAT,CAArB,CAHR;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAD;IAKD;;;;;;AAGHC,MAAM,CAACC,OAAP,GAAiBd,aAAjB"}},"mtime":1661245815573},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/utils/redis.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar redis = require('redis');\n\nvar _require = require('util'),\n    promisify = _require.promisify;\n\nvar RedisClient = /*#__PURE__*/function () {\n  function RedisClient() {\n    _classCallCheck(this, RedisClient);\n\n    this.client = redis.createClient();\n    this.client.on('error', function (err) {\n      console.log(err);\n    });\n  }\n\n  _createClass(RedisClient, [{\n    key: \"isAlive\",\n    value: function isAlive() {\n      return this.client.connected;\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key) {\n        var getAsync;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                getAsync = promisify(this.client.get).bind(this.client);\n                return _context.abrupt(\"return\", getAsync(key));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get(_x) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"set\",\n    value: function () {\n      var _set = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key, value, duration) {\n        var setAsync;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                setAsync = promisify(this.client.set).bind(this.client);\n                return _context2.abrupt(\"return\", setAsync(key, value, 'EX', duration));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function set(_x2, _x3, _x4) {\n        return _set.apply(this, arguments);\n      }\n\n      return set;\n    }()\n  }, {\n    key: \"del\",\n    value: function () {\n      var _del = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(key) {\n        var delAsync;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                delAsync = promisify(this.client.del).bind(this.client);\n                return _context3.abrupt(\"return\", delAsync(key));\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function del(_x5) {\n        return _del.apply(this, arguments);\n      }\n\n      return del;\n    }()\n  }]);\n\n  return RedisClient;\n}();\n\nvar redisClient = new RedisClient();\nmodule.exports = redisClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWRpcyIsInJlcXVpcmUiLCJwcm9taXNpZnkiLCJSZWRpc0NsaWVudCIsImNsaWVudCIsImNyZWF0ZUNsaWVudCIsIm9uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3RlZCIsImtleSIsImdldEFzeW5jIiwiZ2V0IiwiYmluZCIsInZhbHVlIiwiZHVyYXRpb24iLCJzZXRBc3luYyIsInNldCIsImRlbEFzeW5jIiwiZGVsIiwicmVkaXNDbGllbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvYWx4L2FseC1maWxlc19tYW5hZ2VyL3V0aWxzLyIsInNvdXJjZXMiOlsicmVkaXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVkaXMgPSByZXF1aXJlKCdyZWRpcycpO1xuY29uc3QgeyBwcm9taXNpZnkgfSA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuY2xhc3MgUmVkaXNDbGllbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudCgpO1xuICAgIHRoaXMuY2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gIH1cblxuICBpc0FsaXZlKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5jb25uZWN0ZWQ7XG4gIH1cblxuICBhc3luYyBnZXQoa2V5KSB7XG4gICAgY29uc3QgZ2V0QXN5bmMgPSBwcm9taXNpZnkodGhpcy5jbGllbnQuZ2V0KS5iaW5kKHRoaXMuY2xpZW50KTtcbiAgICByZXR1cm4gZ2V0QXN5bmMoa2V5KTtcbiAgfVxuXG4gIGFzeW5jIHNldChrZXksIHZhbHVlLCBkdXJhdGlvbikge1xuICAgIGNvbnN0IHNldEFzeW5jID0gcHJvbWlzaWZ5KHRoaXMuY2xpZW50LnNldCkuYmluZCh0aGlzLmNsaWVudCk7XG4gICAgcmV0dXJuIHNldEFzeW5jKGtleSwgdmFsdWUsICdFWCcsIGR1cmF0aW9uKTtcbiAgfVxuXG4gIGFzeW5jIGRlbChrZXkpIHtcbiAgICBjb25zdCBkZWxBc3luYyA9IHByb21pc2lmeSh0aGlzLmNsaWVudC5kZWwpLmJpbmQodGhpcy5jbGllbnQpO1xuICAgIHJldHVybiBkZWxBc3luYyhrZXkpO1xuICB9XG59XG5cbmNvbnN0IHJlZGlzQ2xpZW50ID0gbmV3IFJlZGlzQ2xpZW50KCk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlZGlzQ2xpZW50O1xuIl0sIm1hcHBpbmdzIjoiOzs7OytDQUNBLG9KOzs7Ozs7Ozs7Ozs7QUFEQSxJQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLGVBQXNCQSxPQUFPLENBQUMsTUFBRCxDQUE3QjtBQUFBLElBQVFDLFNBQVIsWUFBUUEsU0FBUjs7SUFFTUMsVztFQUNKLHVCQUFjO0lBQUE7O0lBQ1osS0FBS0MsTUFBTCxHQUFjSixLQUFLLENBQUNLLFlBQU4sRUFBZDtJQUNBLEtBQUtELE1BQUwsQ0FBWUUsRUFBWixDQUFlLE9BQWYsRUFBd0IsVUFBQ0MsR0FBRCxFQUFTO01BQy9CQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWjtJQUNELENBRkQ7RUFHRDs7OztXQUVELG1CQUFVO01BQ1IsT0FBTyxLQUFLSCxNQUFMLENBQVlNLFNBQW5CO0lBQ0Q7Ozs7NEVBRUQsaUJBQVVDLEdBQVY7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNRQyxRQURSLEdBQ21CVixTQUFTLENBQUMsS0FBS0UsTUFBTCxDQUFZUyxHQUFiLENBQVQsQ0FBMkJDLElBQTNCLENBQWdDLEtBQUtWLE1BQXJDLENBRG5CO2dCQUFBLGlDQUVTUSxRQUFRLENBQUNELEdBQUQsQ0FGakI7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7OzRFQUtBLGtCQUFVQSxHQUFWLEVBQWVJLEtBQWYsRUFBc0JDLFFBQXRCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFDUUMsUUFEUixHQUNtQmYsU0FBUyxDQUFDLEtBQUtFLE1BQUwsQ0FBWWMsR0FBYixDQUFULENBQTJCSixJQUEzQixDQUFnQyxLQUFLVixNQUFyQyxDQURuQjtnQkFBQSxrQ0FFU2EsUUFBUSxDQUFDTixHQUFELEVBQU1JLEtBQU4sRUFBYSxJQUFiLEVBQW1CQyxRQUFuQixDQUZqQjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7Ozs7Ozs7NEVBS0Esa0JBQVVMLEdBQVY7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNRUSxRQURSLEdBQ21CakIsU0FBUyxDQUFDLEtBQUtFLE1BQUwsQ0FBWWdCLEdBQWIsQ0FBVCxDQUEyQk4sSUFBM0IsQ0FBZ0MsS0FBS1YsTUFBckMsQ0FEbkI7Z0JBQUEsa0NBRVNlLFFBQVEsQ0FBQ1IsR0FBRCxDQUZqQjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7Ozs7Ozs7OztBQU1GLElBQU1VLFdBQVcsR0FBRyxJQUFJbEIsV0FBSixFQUFwQjtBQUNBbUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCRixXQUFqQiJ9","map":{"version":3,"names":["redis","require","promisify","RedisClient","client","createClient","on","err","console","log","connected","key","getAsync","get","bind","value","duration","setAsync","set","delAsync","del","redisClient","module","exports"],"sourceRoot":"/alx/alx-files_manager/utils/","sources":["redis.js"],"sourcesContent":["const redis = require('redis');\nconst { promisify } = require('util');\n\nclass RedisClient {\n  constructor() {\n    this.client = redis.createClient();\n    this.client.on('error', (err) => {\n      console.log(err);\n    });\n  }\n\n  isAlive() {\n    return this.client.connected;\n  }\n\n  async get(key) {\n    const getAsync = promisify(this.client.get).bind(this.client);\n    return getAsync(key);\n  }\n\n  async set(key, value, duration) {\n    const setAsync = promisify(this.client.set).bind(this.client);\n    return setAsync(key, value, 'EX', duration);\n  }\n\n  async del(key) {\n    const delAsync = promisify(this.client.del).bind(this.client);\n    return delAsync(key);\n  }\n}\n\nconst redisClient = new RedisClient();\nmodule.exports = redisClient;\n"],"mappings":";;;;+CACA,oJ;;;;;;;;;;;;AADA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,eAAsBA,OAAO,CAAC,MAAD,CAA7B;AAAA,IAAQC,SAAR,YAAQA,SAAR;;IAEMC,W;EACJ,uBAAc;IAAA;;IACZ,KAAKC,MAAL,GAAcJ,KAAK,CAACK,YAAN,EAAd;IACA,KAAKD,MAAL,CAAYE,EAAZ,CAAe,OAAf,EAAwB,UAACC,GAAD,EAAS;MAC/BC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAFD;EAGD;;;;WAED,mBAAU;MACR,OAAO,KAAKH,MAAL,CAAYM,SAAnB;IACD;;;;4EAED,iBAAUC,GAAV;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQC,QADR,GACmBV,SAAS,CAAC,KAAKE,MAAL,CAAYS,GAAb,CAAT,CAA2BC,IAA3B,CAAgC,KAAKV,MAArC,CADnB;gBAAA,iCAESQ,QAAQ,CAACD,GAAD,CAFjB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;4EAKA,kBAAUA,GAAV,EAAeI,KAAf,EAAsBC,QAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQC,QADR,GACmBf,SAAS,CAAC,KAAKE,MAAL,CAAYc,GAAb,CAAT,CAA2BJ,IAA3B,CAAgC,KAAKV,MAArC,CADnB;gBAAA,kCAESa,QAAQ,CAACN,GAAD,EAAMI,KAAN,EAAa,IAAb,EAAmBC,QAAnB,CAFjB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;4EAKA,kBAAUL,GAAV;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQQ,QADR,GACmBjB,SAAS,CAAC,KAAKE,MAAL,CAAYgB,GAAb,CAAT,CAA2BN,IAA3B,CAAgC,KAAKV,MAArC,CADnB;gBAAA,kCAESe,QAAQ,CAACR,GAAD,CAFjB;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;AAMF,IAAMU,WAAW,GAAG,IAAIlB,WAAJ,EAApB;AACAmB,MAAM,CAACC,OAAP,GAAiBF,WAAjB"}},"mtime":1661246407521},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/utils/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar _require = require('mongodb'),\n    MongoClient = _require.MongoClient;\n\nvar DBCLient = /*#__PURE__*/function () {\n  function DBCLient() {\n    var _this = this;\n\n    _classCallCheck(this, DBCLient);\n\n    var localHost = process.env.DB_HOST || 'localhost';\n    var port = process.env.DB_PORT || 27017;\n    var database = process.env.DB_DATABASE || 'files_manager';\n    var url = \"mongodb://\".concat(localHost, \":\").concat(port);\n    this.client = new MongoClient(url, {\n      useUnifiedTopology: true\n    });\n    this.client.connect(function (err) {\n      if (err) console.log(err);\n      _this.db = _this.client.db(database);\n    });\n  }\n\n  _createClass(DBCLient, [{\n    key: \"isAlive\",\n    value: function isAlive() {\n      return this.client.isConnected();\n    }\n  }, {\n    key: \"nbUsers\",\n    value: function () {\n      var _nbUsers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.db.collection('users').countDocuments({}));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function nbUsers() {\n        return _nbUsers.apply(this, arguments);\n      }\n\n      return nbUsers;\n    }()\n  }, {\n    key: \"nbFiles\",\n    value: function () {\n      var _nbFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this.db.collection('files').countDocuments({}));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function nbFiles() {\n        return _nbFiles.apply(this, arguments);\n      }\n\n      return nbFiles;\n    }()\n  }]);\n\n  return DBCLient;\n}();\n\nvar dbClient = new DBCLient();\nmodule.exports = dbClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTW9uZ29DbGllbnQiLCJEQkNMaWVudCIsImxvY2FsSG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9IT1NUIiwicG9ydCIsIkRCX1BPUlQiLCJkYXRhYmFzZSIsIkRCX0RBVEFCQVNFIiwidXJsIiwiY2xpZW50IiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJkYiIsImlzQ29ubmVjdGVkIiwiY29sbGVjdGlvbiIsImNvdW50RG9jdW1lbnRzIiwiZGJDbGllbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvYWx4L2FseC1maWxlc19tYW5hZ2VyL3V0aWxzLyIsInNvdXJjZXMiOlsiZGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb25nb0NsaWVudCB9ID0gcmVxdWlyZSgnbW9uZ29kYicpO1xuXG5jbGFzcyBEQkNMaWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IGxvY2FsSG9zdCA9IHByb2Nlc3MuZW52LkRCX0hPU1QgfHwgJ2xvY2FsaG9zdCc7XG4gICAgY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LkRCX1BPUlQgfHwgMjcwMTc7XG4gICAgY29uc3QgZGF0YWJhc2UgPSBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRSB8fCAnZmlsZXNfbWFuYWdlcic7XG4gICAgY29uc3QgdXJsID0gYG1vbmdvZGI6Ly8ke2xvY2FsSG9zdH06JHtwb3J0fWA7XG4gICAgdGhpcy5jbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJsLCB7IHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KTtcbiAgICB0aGlzLmNsaWVudC5jb25uZWN0KChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB0aGlzLmRiID0gdGhpcy5jbGllbnQuZGIoZGF0YWJhc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNBbGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuaXNDb25uZWN0ZWQoKTtcbiAgfVxuXG4gIGFzeW5jIG5iVXNlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGIuY29sbGVjdGlvbigndXNlcnMnKS5jb3VudERvY3VtZW50cyh7fSk7XG4gIH1cblxuICBhc3luYyBuYkZpbGVzKCkge1xuICAgIHJldHVybiB0aGlzLmRiLmNvbGxlY3Rpb24oJ2ZpbGVzJykuY291bnREb2N1bWVudHMoe30pO1xuICB9XG59XG5cbmNvbnN0IGRiQ2xpZW50ID0gbmV3IERCQ0xpZW50KCk7XG5tb2R1bGUuZXhwb3J0cyA9IGRiQ2xpZW50O1xuIl0sIm1hcHBpbmdzIjoiOzs7OytDQUNBLG9KOzs7Ozs7Ozs7Ozs7QUFEQSxlQUF3QkEsT0FBTyxDQUFDLFNBQUQsQ0FBL0I7QUFBQSxJQUFRQyxXQUFSLFlBQVFBLFdBQVI7O0lBRU1DLFE7RUFDSixvQkFBYztJQUFBOztJQUFBOztJQUNaLElBQU1DLFNBQVMsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVosSUFBdUIsV0FBekM7SUFDQSxJQUFNQyxJQUFJLEdBQUdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxPQUFaLElBQXVCLEtBQXBDO0lBQ0EsSUFBTUMsUUFBUSxHQUFHTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUssV0FBWixJQUEyQixlQUE1QztJQUNBLElBQU1DLEdBQUcsdUJBQWdCUixTQUFoQixjQUE2QkksSUFBN0IsQ0FBVDtJQUNBLEtBQUtLLE1BQUwsR0FBYyxJQUFJWCxXQUFKLENBQWdCVSxHQUFoQixFQUFxQjtNQUFFRSxrQkFBa0IsRUFBRTtJQUF0QixDQUFyQixDQUFkO0lBQ0EsS0FBS0QsTUFBTCxDQUFZRSxPQUFaLENBQW9CLFVBQUNDLEdBQUQsRUFBUztNQUMzQixJQUFJQSxHQUFKLEVBQVNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixHQUFaO01BQ1QsS0FBSSxDQUFDRyxFQUFMLEdBQVUsS0FBSSxDQUFDTixNQUFMLENBQVlNLEVBQVosQ0FBZVQsUUFBZixDQUFWO0lBQ0QsQ0FIRDtFQUlEOzs7O1dBRUQsbUJBQVU7TUFDUixPQUFPLEtBQUtHLE1BQUwsQ0FBWU8sV0FBWixFQUFQO0lBQ0Q7Ozs7Z0ZBRUQ7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQSxpQ0FDUyxLQUFLRCxFQUFMLENBQVFFLFVBQVIsQ0FBbUIsT0FBbkIsRUFBNEJDLGNBQTVCLENBQTJDLEVBQTNDLENBRFQ7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7O2dGQUlBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQUEsa0NBQ1MsS0FBS0gsRUFBTCxDQUFRRSxVQUFSLENBQW1CLE9BQW5CLEVBQTRCQyxjQUE1QixDQUEyQyxFQUEzQyxDQURUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs7O0FBS0YsSUFBTUMsUUFBUSxHQUFHLElBQUlwQixRQUFKLEVBQWpCO0FBQ0FxQixNQUFNLENBQUNDLE9BQVAsR0FBaUJGLFFBQWpCIn0=","map":{"version":3,"names":["require","MongoClient","DBCLient","localHost","process","env","DB_HOST","port","DB_PORT","database","DB_DATABASE","url","client","useUnifiedTopology","connect","err","console","log","db","isConnected","collection","countDocuments","dbClient","module","exports"],"sourceRoot":"/alx/alx-files_manager/utils/","sources":["db.js"],"sourcesContent":["const { MongoClient } = require('mongodb');\n\nclass DBCLient {\n  constructor() {\n    const localHost = process.env.DB_HOST || 'localhost';\n    const port = process.env.DB_PORT || 27017;\n    const database = process.env.DB_DATABASE || 'files_manager';\n    const url = `mongodb://${localHost}:${port}`;\n    this.client = new MongoClient(url, { useUnifiedTopology: true });\n    this.client.connect((err) => {\n      if (err) console.log(err);\n      this.db = this.client.db(database);\n    });\n  }\n\n  isAlive() {\n    return this.client.isConnected();\n  }\n\n  async nbUsers() {\n    return this.db.collection('users').countDocuments({});\n  }\n\n  async nbFiles() {\n    return this.db.collection('files').countDocuments({});\n  }\n}\n\nconst dbClient = new DBCLient();\nmodule.exports = dbClient;\n"],"mappings":";;;;+CACA,oJ;;;;;;;;;;;;AADA,eAAwBA,OAAO,CAAC,SAAD,CAA/B;AAAA,IAAQC,WAAR,YAAQA,WAAR;;IAEMC,Q;EACJ,oBAAc;IAAA;;IAAA;;IACZ,IAAMC,SAAS,GAAGC,OAAO,CAACC,GAAR,CAAYC,OAAZ,IAAuB,WAAzC;IACA,IAAMC,IAAI,GAAGH,OAAO,CAACC,GAAR,CAAYG,OAAZ,IAAuB,KAApC;IACA,IAAMC,QAAQ,GAAGL,OAAO,CAACC,GAAR,CAAYK,WAAZ,IAA2B,eAA5C;IACA,IAAMC,GAAG,uBAAgBR,SAAhB,cAA6BI,IAA7B,CAAT;IACA,KAAKK,MAAL,GAAc,IAAIX,WAAJ,CAAgBU,GAAhB,EAAqB;MAAEE,kBAAkB,EAAE;IAAtB,CAArB,CAAd;IACA,KAAKD,MAAL,CAAYE,OAAZ,CAAoB,UAACC,GAAD,EAAS;MAC3B,IAAIA,GAAJ,EAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACT,KAAI,CAACG,EAAL,GAAU,KAAI,CAACN,MAAL,CAAYM,EAAZ,CAAeT,QAAf,CAAV;IACD,CAHD;EAID;;;;WAED,mBAAU;MACR,OAAO,KAAKG,MAAL,CAAYO,WAAZ,EAAP;IACD;;;;gFAED;QAAA;UAAA;YAAA;cAAA;gBAAA,iCACS,KAAKD,EAAL,CAAQE,UAAR,CAAmB,OAAnB,EAA4BC,cAA5B,CAA2C,EAA3C,CADT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;gFAIA;QAAA;UAAA;YAAA;cAAA;gBAAA,kCACS,KAAKH,EAAL,CAAQE,UAAR,CAAmB,OAAnB,EAA4BC,cAA5B,CAA2C,EAA3C,CADT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;;AAKF,IAAMC,QAAQ,GAAG,IAAIpB,QAAJ,EAAjB;AACAqB,MAAM,CAACC,OAAP,GAAiBF,QAAjB"}},"mtime":1661249330184},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/controllers/AuthController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar _require = require('uuid'),\n    uuidv4 = _require.v4;\n\nvar _require2 = require('crypto'),\n    createHash = _require2.createHash;\n\nvar dbClient = require('../utils/db');\n\nvar redisClient = require('../utils/redis');\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, null, [{\n    key: \"getConnect\",\n    value: function () {\n      var _getConnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n        var credentials, _credentials$split, _credentials$split2, email, password, hash, user, token, key;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!req.headers.authorization || req.headers.authorization.indexOf('Basic ') === -1)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).json({\n                  message: 'Missing Auth Header'\n                }));\n\n              case 2:\n                credentials = Buffer.from(req.headers.authorization.split(' ')[1], 'base64').toString('ascii');\n                _credentials$split = credentials.split(':'), _credentials$split2 = _slicedToArray(_credentials$split, 2), email = _credentials$split2[0], password = _credentials$split2[1];\n\n                if (!(!email || !password)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 6:\n                hash = createHash('sha1').update(password).digest('hex');\n                _context.next = 9;\n                return dbClient.db.collection('users').findOne({\n                  email: email,\n                  password: hash\n                });\n\n              case 9:\n                user = _context.sent;\n\n                if (user) {\n                  _context.next = 12;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 12:\n                token = uuidv4();\n                key = \"auth_\".concat(token);\n                _context.next = 16;\n                return redisClient.set(key, user._id.toString(), 86400);\n\n              case 16:\n                return _context.abrupt(\"return\", res.status(200).json({\n                  token: token\n                }));\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getConnect(_x, _x2) {\n        return _getConnect.apply(this, arguments);\n      }\n\n      return getConnect;\n    }()\n  }, {\n    key: \"getDisconnect\",\n    value: function () {\n      var _getDisconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n        var token, user;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                token = req.headers['x-token'];\n                _context2.next = 3;\n                return redisClient.get(\"auth_\".concat(token));\n\n              case 3:\n                user = _context2.sent;\n\n                if (user) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 6:\n                _context2.next = 8;\n                return redisClient.del(\"auth_\".concat(token));\n\n              case 8:\n                res.status(204);\n                res.end();\n                return _context2.abrupt(\"return\", null);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getDisconnect(_x3, _x4) {\n        return _getDisconnect.apply(this, arguments);\n      }\n\n      return getDisconnect;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nmodule.exports = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwidXVpZHY0IiwidjQiLCJjcmVhdGVIYXNoIiwiZGJDbGllbnQiLCJyZWRpc0NsaWVudCIsIkF1dGhDb250cm9sbGVyIiwicmVxIiwicmVzIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJpbmRleE9mIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJjcmVkZW50aWFscyIsIkJ1ZmZlciIsImZyb20iLCJzcGxpdCIsInRvU3RyaW5nIiwiZW1haWwiLCJwYXNzd29yZCIsImVycm9yIiwiaGFzaCIsInVwZGF0ZSIsImRpZ2VzdCIsImRiIiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJ1c2VyIiwidG9rZW4iLCJrZXkiLCJzZXQiLCJfaWQiLCJnZXQiLCJkZWwiLCJlbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvYWx4L2FseC1maWxlc19tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQXV0aENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKCd1dWlkJyk7XG5jb25zdCB7IGNyZWF0ZUhhc2ggfSA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuY29uc3QgZGJDbGllbnQgPSByZXF1aXJlKCcuLi91dGlscy9kYicpO1xuY29uc3QgcmVkaXNDbGllbnQgPSByZXF1aXJlKCcuLi91dGlscy9yZWRpcycpO1xuXG5jbGFzcyBBdXRoQ29udHJvbGxlciB7XG4gIHN0YXRpYyBhc3luYyBnZXRDb25uZWN0KHJlcSwgcmVzKSB7XG4gICAgaWYgKCFyZXEuaGVhZGVycy5hdXRob3JpemF0aW9uIHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uaW5kZXhPZignQmFzaWMgJykgPT09IC0xKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnTWlzc2luZyBBdXRoIEhlYWRlcicgfSk7XG4gICAgfVxuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gQnVmZmVyLmZyb20ocmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpWzFdLCAnYmFzZTY0JykudG9TdHJpbmcoJ2FzY2lpJyk7XG4gICAgY29uc3QgW2VtYWlsLCBwYXNzd29yZF0gPSBjcmVkZW50aWFscy5zcGxpdCgnOicpO1xuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG5cbiAgICBjb25zdCBoYXNoID0gY3JlYXRlSGFzaCgnc2hhMScpLnVwZGF0ZShwYXNzd29yZCkuZGlnZXN0KCdoZXgnKTtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZGJDbGllbnQuZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHsgZW1haWwsIHBhc3N3b3JkOiBoYXNoIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuID0gdXVpZHY0KCk7XG4gICAgY29uc3Qga2V5ID0gYGF1dGhfJHt0b2tlbn1gO1xuICAgIGF3YWl0IHJlZGlzQ2xpZW50LnNldChrZXksIHVzZXIuX2lkLnRvU3RyaW5nKCksIDg2NDAwKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiB9KTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXREaXNjb25uZWN0KHJlcSwgcmVzKSB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVyc1sneC10b2tlbiddO1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCByZWRpc0NsaWVudC5nZXQoYGF1dGhfJHt0b2tlbn1gKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICB9XG5cbiAgICBhd2FpdCByZWRpc0NsaWVudC5kZWwoYGF1dGhfJHt0b2tlbn1gKTtcbiAgICByZXMuc3RhdHVzKDIwNCk7XG4gICAgcmVzLmVuZCgpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IEF1dGhDb250cm9sbGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7OytDQUNBLG9KOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFEQSxlQUF1QkEsT0FBTyxDQUFDLE1BQUQsQ0FBOUI7QUFBQSxJQUFZQyxNQUFaLFlBQVFDLEVBQVI7O0FBQ0EsZ0JBQXVCRixPQUFPLENBQUMsUUFBRCxDQUE5QjtBQUFBLElBQVFHLFVBQVIsYUFBUUEsVUFBUjs7QUFDQSxJQUFNQyxRQUFRLEdBQUdKLE9BQU8sQ0FBQyxhQUFELENBQXhCOztBQUNBLElBQU1LLFdBQVcsR0FBR0wsT0FBTyxDQUFDLGdCQUFELENBQTNCOztJQUVNTSxjOzs7Ozs7OzttRkFDSixpQkFBd0JDLEdBQXhCLEVBQTZCQyxHQUE3QjtRQUFBOztRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBLE1BQ00sQ0FBQ0QsR0FBRyxDQUFDRSxPQUFKLENBQVlDLGFBQWIsSUFBOEJILEdBQUcsQ0FBQ0UsT0FBSixDQUFZQyxhQUFaLENBQTBCQyxPQUExQixDQUFrQyxRQUFsQyxNQUFnRCxDQUFDLENBRHJGO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxpQ0FFV0gsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7a0JBQUVDLE9BQU8sRUFBRTtnQkFBWCxDQUFyQixDQUZYOztjQUFBO2dCQUlRQyxXQUpSLEdBSXNCQyxNQUFNLENBQUNDLElBQVAsQ0FBWVYsR0FBRyxDQUFDRSxPQUFKLENBQVlDLGFBQVosQ0FBMEJRLEtBQTFCLENBQWdDLEdBQWhDLEVBQXFDLENBQXJDLENBQVosRUFBcUQsUUFBckQsRUFBK0RDLFFBQS9ELENBQXdFLE9BQXhFLENBSnRCO2dCQUFBLHFCQUs0QkosV0FBVyxDQUFDRyxLQUFaLENBQWtCLEdBQWxCLENBTDVCLCtEQUtTRSxLQUxULDJCQUtnQkMsUUFMaEI7O2dCQUFBLE1BTU0sQ0FBQ0QsS0FBRCxJQUFVLENBQUNDLFFBTmpCO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxpQ0FNa0NiLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2tCQUFFUyxLQUFLLEVBQUU7Z0JBQVQsQ0FBckIsQ0FObEM7O2NBQUE7Z0JBUVFDLElBUlIsR0FRZXBCLFVBQVUsQ0FBQyxNQUFELENBQVYsQ0FBbUJxQixNQUFuQixDQUEwQkgsUUFBMUIsRUFBb0NJLE1BQXBDLENBQTJDLEtBQTNDLENBUmY7Z0JBQUE7Z0JBQUEsT0FTcUJyQixRQUFRLENBQUNzQixFQUFULENBQVlDLFVBQVosQ0FBdUIsT0FBdkIsRUFBZ0NDLE9BQWhDLENBQXdDO2tCQUFFUixLQUFLLEVBQUxBLEtBQUY7a0JBQVNDLFFBQVEsRUFBRUU7Z0JBQW5CLENBQXhDLENBVHJCOztjQUFBO2dCQVNRTSxJQVRSOztnQkFBQSxJQVdPQSxJQVhQO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxpQ0FZV3JCLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO2tCQUFFUyxLQUFLLEVBQUU7Z0JBQVQsQ0FBckIsQ0FaWDs7Y0FBQTtnQkFjUVEsS0FkUixHQWNnQjdCLE1BQU0sRUFkdEI7Z0JBZVE4QixHQWZSLGtCQWVzQkQsS0FmdEI7Z0JBQUE7Z0JBQUEsT0FnQlF6QixXQUFXLENBQUMyQixHQUFaLENBQWdCRCxHQUFoQixFQUFxQkYsSUFBSSxDQUFDSSxHQUFMLENBQVNkLFFBQVQsRUFBckIsRUFBMEMsS0FBMUMsQ0FoQlI7O2NBQUE7Z0JBQUEsaUNBaUJTWCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtrQkFBRWlCLEtBQUssRUFBTEE7Z0JBQUYsQ0FBckIsQ0FqQlQ7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7O3NGQW9CQSxrQkFBMkJ2QixHQUEzQixFQUFnQ0MsR0FBaEM7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNRc0IsS0FEUixHQUNnQnZCLEdBQUcsQ0FBQ0UsT0FBSixDQUFZLFNBQVosQ0FEaEI7Z0JBQUE7Z0JBQUEsT0FFcUJKLFdBQVcsQ0FBQzZCLEdBQVosZ0JBQXdCSixLQUF4QixFQUZyQjs7Y0FBQTtnQkFFUUQsSUFGUjs7Z0JBQUEsSUFHT0EsSUFIUDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsa0NBSVdyQixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtrQkFBRVMsS0FBSyxFQUFFO2dCQUFULENBQXJCLENBSlg7O2NBQUE7Z0JBQUE7Z0JBQUEsT0FPUWpCLFdBQVcsQ0FBQzhCLEdBQVosZ0JBQXdCTCxLQUF4QixFQVBSOztjQUFBO2dCQVFFdEIsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWDtnQkFDQUosR0FBRyxDQUFDNEIsR0FBSjtnQkFURixrQ0FVUyxJQVZUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7Ozs7O0FBYUZDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhDLGNBQWpCIn0=","map":{"version":3,"names":["require","uuidv4","v4","createHash","dbClient","redisClient","AuthController","req","res","headers","authorization","indexOf","status","json","message","credentials","Buffer","from","split","toString","email","password","error","hash","update","digest","db","collection","findOne","user","token","key","set","_id","get","del","end","module","exports"],"sourceRoot":"/alx/alx-files_manager/controllers/","sources":["AuthController.js"],"sourcesContent":["const { v4: uuidv4 } = require('uuid');\nconst { createHash } = require('crypto');\nconst dbClient = require('../utils/db');\nconst redisClient = require('../utils/redis');\n\nclass AuthController {\n  static async getConnect(req, res) {\n    if (!req.headers.authorization || req.headers.authorization.indexOf('Basic ') === -1) {\n      return res.status(401).json({ message: 'Missing Auth Header' });\n    }\n    const credentials = Buffer.from(req.headers.authorization.split(' ')[1], 'base64').toString('ascii');\n    const [email, password] = credentials.split(':');\n    if (!email || !password) return res.status(401).json({ error: 'Unauthorized' });\n\n    const hash = createHash('sha1').update(password).digest('hex');\n    const user = await dbClient.db.collection('users').findOne({ email, password: hash });\n\n    if (!user) {\n      return res.status(401).json({ error: 'Unauthorized' });\n    }\n    const token = uuidv4();\n    const key = `auth_${token}`;\n    await redisClient.set(key, user._id.toString(), 86400);\n    return res.status(200).json({ token });\n  }\n\n  static async getDisconnect(req, res) {\n    const token = req.headers['x-token'];\n    const user = await redisClient.get(`auth_${token}`);\n    if (!user) {\n      return res.status(401).json({ error: 'Unauthorized' });\n    }\n\n    await redisClient.del(`auth_${token}`);\n    res.status(204);\n    res.end();\n    return null;\n  }\n}\nmodule.exports = AuthController;\n"],"mappings":"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"}},"mtime":1661249889961},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/controllers/FilesController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar _require = require('mongodb'),\n    ObjectID = _require.ObjectID;\n\nvar fs = require('fs');\n\nvar _require2 = require('uuid'),\n    uuidv4 = _require2.v4;\n\nvar Queue = require('bull');\n\nvar _require3 = require('../utils/helpers'),\n    findUserByTokenId = _require3.findUserByTokenId;\n\nvar dbClient = require('../utils/db');\n\nvar redisClient = require('../utils/redis');\n\nvar FilesController = /*#__PURE__*/function () {\n  function FilesController() {\n    _classCallCheck(this, FilesController);\n  }\n\n  _createClass(FilesController, null, [{\n    key: \"postUpload\",\n    value:\n    /**\n     * Should create a new file in DB and in disk\n     */\n    function () {\n      var _postUpload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var fileQueue, userId, fileInserted, name, type, isPublic, parentId, data, parentFileArray, file, folderPath, filenameUUID, localPath, clearData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fileQueue = new Queue('fileQueue'); // Retrieve the user based on the token\n\n                _context.next = 3;\n                return findUserByTokenId(request);\n\n              case 3:\n                userId = _context.sent;\n\n                if (userId) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 6:\n                // Validate the request data\n                name = request.body.name;\n\n                if (name) {\n                  _context.next = 9;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Missing name'\n                }));\n\n              case 9:\n                type = request.body.type;\n\n                if (!(!type || !['folder', 'file', 'image'].includes(type))) {\n                  _context.next = 12;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Missing type'\n                }));\n\n              case 12:\n                isPublic = request.body.isPublic || false;\n                parentId = request.body.parentId || 0;\n                data = request.body.data;\n\n                if (!(!data && !['folder'].includes(type))) {\n                  _context.next = 17;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Missing data'\n                }));\n\n              case 17:\n                if (!(parentId !== 0)) {\n                  _context.next = 26;\n                  break;\n                }\n\n                _context.next = 20;\n                return dbClient.files.find({\n                  _id: ObjectID(parentId)\n                }).toArray();\n\n              case 20:\n                parentFileArray = _context.sent;\n\n                if (!(parentFileArray.length === 0)) {\n                  _context.next = 23;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Parent not found'\n                }));\n\n              case 23:\n                file = parentFileArray[0];\n\n                if (!(file.type !== 'folder')) {\n                  _context.next = 26;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Parent is not a folder'\n                }));\n\n              case 26:\n                if (!(!data && type !== 'folder')) {\n                  _context.next = 28;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Missing Data'\n                }));\n\n              case 28:\n                if (!(type === 'folder')) {\n                  _context.next = 34;\n                  break;\n                }\n\n                _context.next = 31;\n                return dbClient.files.insertOne({\n                  userId: ObjectID(userId),\n                  name: name,\n                  type: type,\n                  isPublic: isPublic,\n                  parentId: parentId === 0 ? parentId : ObjectID(parentId)\n                });\n\n              case 31:\n                fileInserted = _context.sent;\n                _context.next = 51;\n                break;\n\n              case 34:\n                // Create a folder for this file\n                folderPath = process.env.FOLDER_PATH || '/tmp/files_manager';\n                if (!fs.existsSync(folderPath)) fs.mkdirSync(folderPath, {\n                  recursive: true\n                }, function () {}); // the actual location is the root computer 'C:/tmp/files_manager\n                // Create an ID and a new path to the new file\n\n                filenameUUID = uuidv4();\n                localPath = \"\".concat(folderPath, \"/\").concat(filenameUUID); // Unscramble data and write to new path\n\n                clearData = Buffer.from(data, 'base64');\n                _context.next = 41;\n                return fs.promises.writeFile(localPath, clearData.toString(), {\n                  flag: 'w+'\n                });\n\n              case 41:\n                _context.next = 43;\n                return fs.readdirSync('/').forEach(function (file) {\n                  console.log(file);\n                });\n\n              case 43:\n                _context.next = 45;\n                return dbClient.files.insertOne({\n                  userId: ObjectID(userId),\n                  name: name,\n                  type: type,\n                  isPublic: isPublic,\n                  parentId: parentId === 0 ? parentId : ObjectID(parentId),\n                  localPath: localPath\n                });\n\n              case 45:\n                fileInserted = _context.sent;\n\n                if (!(type === 'image')) {\n                  _context.next = 51;\n                  break;\n                }\n\n                _context.next = 49;\n                return fs.promises.writeFile(localPath, clearData, {\n                  flag: 'w+',\n                  encoding: 'binary'\n                });\n\n              case 49:\n                _context.next = 51;\n                return fileQueue.add({\n                  userId: userId,\n                  fileId: fileInserted.insertedId,\n                  localPath: localPath\n                });\n\n              case 51:\n                return _context.abrupt(\"return\", response.status(201).json({\n                  id: fileInserted.ops[0]._id,\n                  userId: userId,\n                  name: name,\n                  type: type,\n                  isPublic: isPublic,\n                  parentId: parentId\n                }));\n\n              case 52:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postUpload(_x, _x2) {\n        return _postUpload.apply(this, arguments);\n      }\n\n      return postUpload;\n    }() // GET /files/:id\n    // Return file by fileId\n\n  }, {\n    key: \"getShow\",\n    value: function () {\n      var _getShow = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var token, keyID, user, idFile, fileDocument;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // Retrieve the user based on the token\n                token = request.headers['x-token'];\n\n                if (token) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", response.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 3:\n                _context2.next = 5;\n                return redisClient.get(\"auth_\".concat(token));\n\n              case 5:\n                keyID = _context2.sent;\n\n                if (keyID) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", response.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 8:\n                _context2.next = 10;\n                return dbClient.db.collection('users').findOne({\n                  _id: ObjectID(keyID)\n                });\n\n              case 10:\n                user = _context2.sent;\n\n                if (user) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", response.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 13:\n                idFile = request.params.id || '';\n                _context2.next = 16;\n                return dbClient.db.collection('files').findOne({\n                  _id: ObjectID(idFile),\n                  userId: user._id\n                });\n\n              case 16:\n                fileDocument = _context2.sent;\n\n                if (fileDocument) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", response.status(404).send({\n                  error: 'Not found'\n                }));\n\n              case 19:\n                return _context2.abrupt(\"return\", response.send({\n                  id: fileDocument._id,\n                  userId: fileDocument.userId,\n                  name: fileDocument.name,\n                  type: fileDocument.type,\n                  isPublic: fileDocument.isPublic,\n                  parentId: fileDocument.parentId\n                }));\n\n              case 20:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getShow(_x3, _x4) {\n        return _getShow.apply(this, arguments);\n      }\n\n      return getShow;\n    }() // GET /files\n    // Return the files attached to the user\n\n  }, {\n    key: \"getIndex\",\n    value: function () {\n      var _getIndex = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var token, keyID, parentId, pagination, user, aggregationMatch, aggregateData, files, filesArray;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                // Retrieve the user based on the token\n                token = request.headers['x-token'];\n\n                if (token) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", response.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 3:\n                _context3.next = 5;\n                return redisClient.get(\"auth_\".concat(token));\n\n              case 5:\n                keyID = _context3.sent;\n\n                if (keyID) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", response.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 8:\n                parentId = request.query.parentId || '0';\n                pagination = request.query.page || 0;\n                _context3.next = 12;\n                return dbClient.db.collection('users').findOne({\n                  _id: ObjectID(keyID)\n                });\n\n              case 12:\n                user = _context3.sent;\n                if (!user) response.status(401).json({\n                  error: 'Unauthorized'\n                });\n                aggregationMatch = {\n                  $and: [{\n                    parentId: parentId\n                  }]\n                };\n                aggregateData = [{\n                  $match: aggregationMatch\n                }, {\n                  $skip: pagination * 20\n                }, {\n                  $limit: 20\n                }];\n                if (parentId === 0) aggregateData = [{\n                  $skip: pagination * 20\n                }, {\n                  $limit: 20\n                }];\n                _context3.next = 19;\n                return dbClient.db.collection('files').aggregate(aggregateData);\n\n              case 19:\n                files = _context3.sent;\n                filesArray = [];\n                _context3.next = 23;\n                return files.forEach(function (item) {\n                  var fileItem = {\n                    id: item._id,\n                    userId: item.userId,\n                    name: item.name,\n                    type: item.type,\n                    isPublic: item.isPublic,\n                    parentId: item.parentId\n                  };\n                  filesArray.push(fileItem);\n                });\n\n              case 23:\n                return _context3.abrupt(\"return\", response.send(filesArray));\n\n              case 24:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getIndex(_x5, _x6) {\n        return _getIndex.apply(this, arguments);\n      }\n\n      return getIndex;\n    }()\n  }]);\n\n  return FilesController;\n}();\n\nmodule.exports = FilesController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiT2JqZWN0SUQiLCJmcyIsInV1aWR2NCIsInY0IiwiUXVldWUiLCJmaW5kVXNlckJ5VG9rZW5JZCIsImRiQ2xpZW50IiwicmVkaXNDbGllbnQiLCJGaWxlc0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJmaWxlUXVldWUiLCJ1c2VySWQiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJuYW1lIiwiYm9keSIsInR5cGUiLCJpbmNsdWRlcyIsImlzUHVibGljIiwicGFyZW50SWQiLCJkYXRhIiwiZmlsZXMiLCJmaW5kIiwiX2lkIiwidG9BcnJheSIsInBhcmVudEZpbGVBcnJheSIsImxlbmd0aCIsImZpbGUiLCJpbnNlcnRPbmUiLCJmaWxlSW5zZXJ0ZWQiLCJmb2xkZXJQYXRoIiwicHJvY2VzcyIsImVudiIsIkZPTERFUl9QQVRIIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImZpbGVuYW1lVVVJRCIsImxvY2FsUGF0aCIsImNsZWFyRGF0YSIsIkJ1ZmZlciIsImZyb20iLCJwcm9taXNlcyIsIndyaXRlRmlsZSIsInRvU3RyaW5nIiwiZmxhZyIsInJlYWRkaXJTeW5jIiwiZm9yRWFjaCIsImNvbnNvbGUiLCJsb2ciLCJlbmNvZGluZyIsImFkZCIsImZpbGVJZCIsImluc2VydGVkSWQiLCJpZCIsIm9wcyIsInRva2VuIiwiaGVhZGVycyIsImdldCIsImtleUlEIiwiZGIiLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInVzZXIiLCJpZEZpbGUiLCJwYXJhbXMiLCJmaWxlRG9jdW1lbnQiLCJzZW5kIiwicXVlcnkiLCJwYWdpbmF0aW9uIiwicGFnZSIsImFnZ3JlZ2F0aW9uTWF0Y2giLCIkYW5kIiwiYWdncmVnYXRlRGF0YSIsIiRtYXRjaCIsIiRza2lwIiwiJGxpbWl0IiwiYWdncmVnYXRlIiwiZmlsZXNBcnJheSIsIml0ZW0iLCJmaWxlSXRlbSIsInB1c2giLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvYWx4L2FseC1maWxlc19tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiRmlsZXNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgT2JqZWN0SUQgfSA9IHJlcXVpcmUoJ21vbmdvZGInKTtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZSgndXVpZCcpO1xuY29uc3QgUXVldWUgPSByZXF1aXJlKCdidWxsJyk7XG5jb25zdCB7IGZpbmRVc2VyQnlUb2tlbklkIH0gPSByZXF1aXJlKCcuLi91dGlscy9oZWxwZXJzJyk7XG5jb25zdCBkYkNsaWVudCA9IHJlcXVpcmUoJy4uL3V0aWxzL2RiJyk7XG5jb25zdCByZWRpc0NsaWVudCA9IHJlcXVpcmUoJy4uL3V0aWxzL3JlZGlzJyk7XG5cbmNsYXNzIEZpbGVzQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBTaG91bGQgY3JlYXRlIGEgbmV3IGZpbGUgaW4gREIgYW5kIGluIGRpc2tcbiAgICovXG4gIHN0YXRpYyBhc3luYyBwb3N0VXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgY29uc3QgZmlsZVF1ZXVlID0gbmV3IFF1ZXVlKCdmaWxlUXVldWUnKTtcbiAgICAvLyBSZXRyaWV2ZSB0aGUgdXNlciBiYXNlZCBvbiB0aGUgdG9rZW5cbiAgICBjb25zdCB1c2VySWQgPSBhd2FpdCBmaW5kVXNlckJ5VG9rZW5JZChyZXF1ZXN0KTtcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG5cbiAgICBsZXQgZmlsZUluc2VydGVkO1xuXG4gICAgLy8gVmFsaWRhdGUgdGhlIHJlcXVlc3QgZGF0YVxuICAgIGNvbnN0IHsgbmFtZSB9ID0gcmVxdWVzdC5ib2R5O1xuICAgIGlmICghbmFtZSkgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgbmFtZScgfSk7XG4gICAgY29uc3QgeyB0eXBlIH0gPSByZXF1ZXN0LmJvZHk7XG4gICAgaWYgKCF0eXBlIHx8ICFbJ2ZvbGRlcicsICdmaWxlJywgJ2ltYWdlJ10uaW5jbHVkZXModHlwZSkpIHsgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgdHlwZScgfSk7IH1cblxuICAgIGNvbnN0IGlzUHVibGljID0gcmVxdWVzdC5ib2R5LmlzUHVibGljIHx8IGZhbHNlO1xuICAgIGNvbnN0IHBhcmVudElkID0gcmVxdWVzdC5ib2R5LnBhcmVudElkIHx8IDA7XG4gICAgY29uc3QgeyBkYXRhIH0gPSByZXF1ZXN0LmJvZHk7XG4gICAgaWYgKCFkYXRhICYmICFbJ2ZvbGRlciddLmluY2x1ZGVzKHR5cGUpKSB7IHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIGRhdGEnIH0pOyB9XG4gICAgLy8gcGFyZW50SWQgKG9wdGlvbmFsKSBhcyBJRCBvZiB0aGUgcGFyZW50IChkZWZhdWx0IDAtPiByb290KVxuICAgIGlmIChwYXJlbnRJZCAhPT0gMCkge1xuICAgICAgY29uc3QgcGFyZW50RmlsZUFycmF5ID0gYXdhaXQgZGJDbGllbnQuZmlsZXMuZmluZCh7IF9pZDogT2JqZWN0SUQocGFyZW50SWQpIH0pLnRvQXJyYXkoKTtcbiAgICAgIGlmIChwYXJlbnRGaWxlQXJyYXkubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnUGFyZW50IG5vdCBmb3VuZCcgfSk7XG4gICAgICBjb25zdCBmaWxlID0gcGFyZW50RmlsZUFycmF5WzBdO1xuICAgICAgaWYgKGZpbGUudHlwZSAhPT0gJ2ZvbGRlcicpIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdQYXJlbnQgaXMgbm90IGEgZm9sZGVyJyB9KTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyBkYXRhLCBhbmQgbm90IGEgZm9sZGVyLCBlcnJvclxuICAgIGlmICghZGF0YSAmJiB0eXBlICE9PSAnZm9sZGVyJykgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgRGF0YScgfSk7XG5cbiAgICAvLyBpZiB0eXBlIGlzIGZvbGRlciB0aGVuIGluc2VydCBpbnRvIERCLCBvd25lciBpcyBPYmplY3RJRCh1c2VySWQpXG4gICAgaWYgKHR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICBmaWxlSW5zZXJ0ZWQgPSBhd2FpdCBkYkNsaWVudC5maWxlcy5pbnNlcnRPbmUoe1xuICAgICAgICB1c2VySWQ6IE9iamVjdElEKHVzZXJJZCksXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGlzUHVibGljLFxuICAgICAgICBwYXJlbnRJZDogcGFyZW50SWQgPT09IDAgPyBwYXJlbnRJZCA6IE9iamVjdElEKHBhcmVudElkKSxcbiAgICAgIH0pO1xuICAgIC8vIGlmIG5vdCBmb2xkZXIsIHN0b3JlIGZpbGUgaW4gREIgdW5zY3JhbWJsZWRcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGEgZm9sZGVyIGZvciB0aGlzIGZpbGVcbiAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwcm9jZXNzLmVudi5GT0xERVJfUEFUSCB8fCAnL3RtcC9maWxlc19tYW5hZ2VyJztcbiAgICAgIGlmICghZnMuZXhpc3RzU3luYyhmb2xkZXJQYXRoKSkgZnMubWtkaXJTeW5jKGZvbGRlclBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0sICgpID0+IHt9KTtcbiAgICAgIC8vIHRoZSBhY3R1YWwgbG9jYXRpb24gaXMgdGhlIHJvb3QgY29tcHV0ZXIgJ0M6L3RtcC9maWxlc19tYW5hZ2VyXG5cbiAgICAgIC8vIENyZWF0ZSBhbiBJRCBhbmQgYSBuZXcgcGF0aCB0byB0aGUgbmV3IGZpbGVcbiAgICAgIGNvbnN0IGZpbGVuYW1lVVVJRCA9IHV1aWR2NCgpO1xuICAgICAgY29uc3QgbG9jYWxQYXRoID0gYCR7Zm9sZGVyUGF0aH0vJHtmaWxlbmFtZVVVSUR9YDtcblxuICAgICAgLy8gVW5zY3JhbWJsZSBkYXRhIGFuZCB3cml0ZSB0byBuZXcgcGF0aFxuICAgICAgY29uc3QgY2xlYXJEYXRhID0gQnVmZmVyLmZyb20oZGF0YSwgJ2Jhc2U2NCcpO1xuICAgICAgYXdhaXQgZnMucHJvbWlzZXMud3JpdGVGaWxlKGxvY2FsUGF0aCwgY2xlYXJEYXRhLnRvU3RyaW5nKCksIHsgZmxhZzogJ3crJyB9KTtcbiAgICAgIGF3YWl0IGZzLnJlYWRkaXJTeW5jKCcvJykuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJbnNlcnQgaW50byB0aGUgREJcbiAgICAgIGZpbGVJbnNlcnRlZCA9IGF3YWl0IGRiQ2xpZW50LmZpbGVzLmluc2VydE9uZSh7XG4gICAgICAgIHVzZXJJZDogT2JqZWN0SUQodXNlcklkKSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgaXNQdWJsaWMsXG4gICAgICAgIHBhcmVudElkOiBwYXJlbnRJZCA9PT0gMCA/IHBhcmVudElkIDogT2JqZWN0SUQocGFyZW50SWQpLFxuICAgICAgICBsb2NhbFBhdGgsXG4gICAgICB9KTtcblxuICAgICAgLy8gaWYgdGhlIGZpbGUgaXMgYW4gaW1hZ2UsIHNhdmUgaXQgaW4gYmluYXJ5XG4gICAgICBpZiAodHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUobG9jYWxQYXRoLCBjbGVhckRhdGEsIHsgZmxhZzogJ3crJywgZW5jb2Rpbmc6ICdiaW5hcnknIH0pO1xuICAgICAgICBhd2FpdCBmaWxlUXVldWUuYWRkKHsgdXNlcklkLCBmaWxlSWQ6IGZpbGVJbnNlcnRlZC5pbnNlcnRlZElkLCBsb2NhbFBhdGggfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSBuZXcgZmlsZSB3aXRoIGEgc3RhdHVzIGNvZGUgMjAxXG4gICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgaWQ6IGZpbGVJbnNlcnRlZC5vcHNbMF0uX2lkLCB1c2VySWQsIG5hbWUsIHR5cGUsIGlzUHVibGljLCBwYXJlbnRJZCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEdFVCAvZmlsZXMvOmlkXG4gIC8vIFJldHVybiBmaWxlIGJ5IGZpbGVJZFxuICBzdGF0aWMgYXN5bmMgZ2V0U2hvdyhyZXF1ZXN0LCByZXNwb25zZSkge1xuICAgIC8vIFJldHJpZXZlIHRoZSB1c2VyIGJhc2VkIG9uIHRoZSB0b2tlblxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LXRva2VuJ107XG4gICAgaWYgKCF0b2tlbikgeyByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTsgfVxuICAgIGNvbnN0IGtleUlEID0gYXdhaXQgcmVkaXNDbGllbnQuZ2V0KGBhdXRoXyR7dG9rZW59YCk7XG4gICAgaWYgKCFrZXlJRCkgeyByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTsgfVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYkNsaWVudC5kYi5jb2xsZWN0aW9uKCd1c2VycycpLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElEKGtleUlEKSB9KTtcbiAgICBpZiAoIXVzZXIpIHsgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7IH1cblxuICAgIGNvbnN0IGlkRmlsZSA9IHJlcXVlc3QucGFyYW1zLmlkIHx8ICcnO1xuICAgIGNvbnN0IGZpbGVEb2N1bWVudCA9IGF3YWl0IGRiQ2xpZW50LmRiXG4gICAgICAuY29sbGVjdGlvbignZmlsZXMnKVxuICAgICAgLmZpbmRPbmUoeyBfaWQ6IE9iamVjdElEKGlkRmlsZSksIHVzZXJJZDogdXNlci5faWQgfSk7XG4gICAgaWYgKCFmaWxlRG9jdW1lbnQpIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdOb3QgZm91bmQnIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQoe1xuICAgICAgaWQ6IGZpbGVEb2N1bWVudC5faWQsXG4gICAgICB1c2VySWQ6IGZpbGVEb2N1bWVudC51c2VySWQsXG4gICAgICBuYW1lOiBmaWxlRG9jdW1lbnQubmFtZSxcbiAgICAgIHR5cGU6IGZpbGVEb2N1bWVudC50eXBlLFxuICAgICAgaXNQdWJsaWM6IGZpbGVEb2N1bWVudC5pc1B1YmxpYyxcbiAgICAgIHBhcmVudElkOiBmaWxlRG9jdW1lbnQucGFyZW50SWQsXG4gICAgfSk7XG4gIH1cblxuICAvLyBHRVQgL2ZpbGVzXG4gIC8vIFJldHVybiB0aGUgZmlsZXMgYXR0YWNoZWQgdG8gdGhlIHVzZXJcbiAgc3RhdGljIGFzeW5jIGdldEluZGV4KHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgLy8gUmV0cmlldmUgdGhlIHVzZXIgYmFzZWQgb24gdGhlIHRva2VuXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnNbJ3gtdG9rZW4nXTtcbiAgICBpZiAoIXRva2VuKSB7IHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pOyB9XG4gICAgY29uc3Qga2V5SUQgPSBhd2FpdCByZWRpc0NsaWVudC5nZXQoYGF1dGhfJHt0b2tlbn1gKTtcbiAgICBpZiAoIWtleUlEKSB7IHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pOyB9XG4gICAgY29uc3QgcGFyZW50SWQgPSByZXF1ZXN0LnF1ZXJ5LnBhcmVudElkIHx8ICcwJztcbiAgICBjb25zdCBwYWdpbmF0aW9uID0gcmVxdWVzdC5xdWVyeS5wYWdlIHx8IDA7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGRiQ2xpZW50LmRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7IF9pZDogT2JqZWN0SUQoa2V5SUQpIH0pO1xuICAgIGlmICghdXNlcikgcmVzcG9uc2Uuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblxuICAgIGNvbnN0IGFnZ3JlZ2F0aW9uTWF0Y2ggPSB7ICRhbmQ6IFt7IHBhcmVudElkIH1dIH07XG4gICAgbGV0IGFnZ3JlZ2F0ZURhdGEgPSBbXG4gICAgICB7ICRtYXRjaDogYWdncmVnYXRpb25NYXRjaCB9LFxuICAgICAgeyAkc2tpcDogcGFnaW5hdGlvbiAqIDIwIH0sXG4gICAgICB7ICRsaW1pdDogMjAgfSxcbiAgICBdO1xuICAgIGlmIChwYXJlbnRJZCA9PT0gMCkgYWdncmVnYXRlRGF0YSA9IFt7ICRza2lwOiBwYWdpbmF0aW9uICogMjAgfSwgeyAkbGltaXQ6IDIwIH1dO1xuXG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBkYkNsaWVudC5kYlxuICAgICAgLmNvbGxlY3Rpb24oJ2ZpbGVzJylcbiAgICAgIC5hZ2dyZWdhdGUoYWdncmVnYXRlRGF0YSk7XG4gICAgY29uc3QgZmlsZXNBcnJheSA9IFtdO1xuICAgIGF3YWl0IGZpbGVzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGZpbGVJdGVtID0ge1xuICAgICAgICBpZDogaXRlbS5faWQsXG4gICAgICAgIHVzZXJJZDogaXRlbS51c2VySWQsXG4gICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgICBpc1B1YmxpYzogaXRlbS5pc1B1YmxpYyxcbiAgICAgICAgcGFyZW50SWQ6IGl0ZW0ucGFyZW50SWQsXG4gICAgICB9O1xuICAgICAgZmlsZXNBcnJheS5wdXNoKGZpbGVJdGVtKTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXNwb25zZS5zZW5kKGZpbGVzQXJyYXkpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRmlsZXNDb250cm9sbGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7OytDQUNBLG9KOzs7Ozs7Ozs7Ozs7QUFEQSxlQUFxQkEsT0FBTyxDQUFDLFNBQUQsQ0FBNUI7QUFBQSxJQUFRQyxRQUFSLFlBQVFBLFFBQVI7O0FBQ0EsSUFBTUMsRUFBRSxHQUFHRixPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQSxnQkFBdUJBLE9BQU8sQ0FBQyxNQUFELENBQTlCO0FBQUEsSUFBWUcsTUFBWixhQUFRQyxFQUFSOztBQUNBLElBQU1DLEtBQUssR0FBR0wsT0FBTyxDQUFDLE1BQUQsQ0FBckI7O0FBQ0EsZ0JBQThCQSxPQUFPLENBQUMsa0JBQUQsQ0FBckM7QUFBQSxJQUFRTSxpQkFBUixhQUFRQSxpQkFBUjs7QUFDQSxJQUFNQyxRQUFRLEdBQUdQLE9BQU8sQ0FBQyxhQUFELENBQXhCOztBQUNBLElBQU1RLFdBQVcsR0FBR1IsT0FBTyxDQUFDLGdCQUFELENBQTNCOztJQUVNUyxlOzs7Ozs7OztJQUNKO0FBQ0Y7QUFDQTs7bUZBQ0UsaUJBQXdCQyxPQUF4QixFQUFpQ0MsUUFBakM7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNRQyxTQURSLEdBQ29CLElBQUlQLEtBQUosQ0FBVSxXQUFWLENBRHBCLEVBRUU7O2dCQUZGO2dCQUFBLE9BR3VCQyxpQkFBaUIsQ0FBQ0ksT0FBRCxDQUh4Qzs7Y0FBQTtnQkFHUUcsTUFIUjs7Z0JBQUEsSUFJT0EsTUFKUDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsaUNBSXNCRixRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0FKdEI7O2NBQUE7Z0JBUUU7Z0JBQ1FDLElBVFYsR0FTbUJQLE9BQU8sQ0FBQ1EsSUFUM0IsQ0FTVUQsSUFUVjs7Z0JBQUEsSUFVT0EsSUFWUDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsaUNBVW9CTixRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0FWcEI7O2NBQUE7Z0JBV1VHLElBWFYsR0FXbUJULE9BQU8sQ0FBQ1EsSUFYM0IsQ0FXVUMsSUFYVjs7Z0JBQUEsTUFZTSxDQUFDQSxJQUFELElBQVMsQ0FBQyxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLE9BQW5CLEVBQTRCQyxRQUE1QixDQUFxQ0QsSUFBckMsQ0FaaEI7a0JBQUE7a0JBQUE7Z0JBQUE7O2dCQUFBLGlDQVlxRVIsUUFBUSxDQUFDRyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQTFCLENBWnJFOztjQUFBO2dCQWNRSyxRQWRSLEdBY21CWCxPQUFPLENBQUNRLElBQVIsQ0FBYUcsUUFBYixJQUF5QixLQWQ1QztnQkFlUUMsUUFmUixHQWVtQlosT0FBTyxDQUFDUSxJQUFSLENBQWFJLFFBQWIsSUFBeUIsQ0FmNUM7Z0JBZ0JVQyxJQWhCVixHQWdCbUJiLE9BQU8sQ0FBQ1EsSUFoQjNCLENBZ0JVSyxJQWhCVjs7Z0JBQUEsTUFpQk0sQ0FBQ0EsSUFBRCxJQUFTLENBQUMsQ0FBQyxRQUFELEVBQVdILFFBQVgsQ0FBb0JELElBQXBCLENBakJoQjtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsaUNBaUJvRFIsUUFBUSxDQUFDRyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQTFCLENBakJwRDs7Y0FBQTtnQkFBQSxNQW1CTU0sUUFBUSxLQUFLLENBbkJuQjtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUE7Z0JBQUEsT0FvQmtDZixRQUFRLENBQUNpQixLQUFULENBQWVDLElBQWYsQ0FBb0I7a0JBQUVDLEdBQUcsRUFBRXpCLFFBQVEsQ0FBQ3FCLFFBQUQ7Z0JBQWYsQ0FBcEIsRUFBaURLLE9BQWpELEVBcEJsQzs7Y0FBQTtnQkFvQlVDLGVBcEJWOztnQkFBQSxNQXFCUUEsZUFBZSxDQUFDQyxNQUFoQixLQUEyQixDQXJCbkM7a0JBQUE7a0JBQUE7Z0JBQUE7O2dCQUFBLGlDQXFCNkNsQixRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0FyQjdDOztjQUFBO2dCQXNCVWMsSUF0QlYsR0FzQmlCRixlQUFlLENBQUMsQ0FBRCxDQXRCaEM7O2dCQUFBLE1BdUJRRSxJQUFJLENBQUNYLElBQUwsS0FBYyxRQXZCdEI7a0JBQUE7a0JBQUE7Z0JBQUE7O2dCQUFBLGlDQXVCdUNSLFFBQVEsQ0FBQ0csTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7a0JBQUVDLEtBQUssRUFBRTtnQkFBVCxDQUExQixDQXZCdkM7O2NBQUE7Z0JBQUEsTUEyQk0sQ0FBQ08sSUFBRCxJQUFTSixJQUFJLEtBQUssUUEzQnhCO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxpQ0EyQnlDUixRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0EzQnpDOztjQUFBO2dCQUFBLE1BOEJNRyxJQUFJLEtBQUssUUE5QmY7a0JBQUE7a0JBQUE7Z0JBQUE7O2dCQUFBO2dCQUFBLE9BK0J5QlosUUFBUSxDQUFDaUIsS0FBVCxDQUFlTyxTQUFmLENBQXlCO2tCQUM1Q2xCLE1BQU0sRUFBRVosUUFBUSxDQUFDWSxNQUFELENBRDRCO2tCQUU1Q0ksSUFBSSxFQUFKQSxJQUY0QztrQkFHNUNFLElBQUksRUFBSkEsSUFINEM7a0JBSTVDRSxRQUFRLEVBQVJBLFFBSjRDO2tCQUs1Q0MsUUFBUSxFQUFFQSxRQUFRLEtBQUssQ0FBYixHQUFpQkEsUUFBakIsR0FBNEJyQixRQUFRLENBQUNxQixRQUFEO2dCQUxGLENBQXpCLENBL0J6Qjs7Y0FBQTtnQkErQklVLFlBL0JKO2dCQUFBO2dCQUFBOztjQUFBO2dCQXdDSTtnQkFDTUMsVUF6Q1YsR0F5Q3VCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsV0FBWixJQUEyQixvQkF6Q2xEO2dCQTBDSSxJQUFJLENBQUNsQyxFQUFFLENBQUNtQyxVQUFILENBQWNKLFVBQWQsQ0FBTCxFQUFnQy9CLEVBQUUsQ0FBQ29DLFNBQUgsQ0FBYUwsVUFBYixFQUF5QjtrQkFBRU0sU0FBUyxFQUFFO2dCQUFiLENBQXpCLEVBQThDLFlBQU0sQ0FBRSxDQUF0RCxFQTFDcEMsQ0EyQ0k7Z0JBRUE7O2dCQUNNQyxZQTlDVixHQThDeUJyQyxNQUFNLEVBOUMvQjtnQkErQ1VzQyxTQS9DVixhQStDeUJSLFVBL0N6QixjQStDdUNPLFlBL0N2QyxHQWlESTs7Z0JBQ01FLFNBbERWLEdBa0RzQkMsTUFBTSxDQUFDQyxJQUFQLENBQVlyQixJQUFaLEVBQWtCLFFBQWxCLENBbER0QjtnQkFBQTtnQkFBQSxPQW1EVXJCLEVBQUUsQ0FBQzJDLFFBQUgsQ0FBWUMsU0FBWixDQUFzQkwsU0FBdEIsRUFBaUNDLFNBQVMsQ0FBQ0ssUUFBVixFQUFqQyxFQUF1RDtrQkFBRUMsSUFBSSxFQUFFO2dCQUFSLENBQXZELENBbkRWOztjQUFBO2dCQUFBO2dCQUFBLE9Bb0RVOUMsRUFBRSxDQUFDK0MsV0FBSCxDQUFlLEdBQWYsRUFBb0JDLE9BQXBCLENBQTRCLFVBQUNwQixJQUFELEVBQVU7a0JBQzFDcUIsT0FBTyxDQUFDQyxHQUFSLENBQVl0QixJQUFaO2dCQUNELENBRkssQ0FwRFY7O2NBQUE7Z0JBQUE7Z0JBQUEsT0F5RHlCdkIsUUFBUSxDQUFDaUIsS0FBVCxDQUFlTyxTQUFmLENBQXlCO2tCQUM1Q2xCLE1BQU0sRUFBRVosUUFBUSxDQUFDWSxNQUFELENBRDRCO2tCQUU1Q0ksSUFBSSxFQUFKQSxJQUY0QztrQkFHNUNFLElBQUksRUFBSkEsSUFINEM7a0JBSTVDRSxRQUFRLEVBQVJBLFFBSjRDO2tCQUs1Q0MsUUFBUSxFQUFFQSxRQUFRLEtBQUssQ0FBYixHQUFpQkEsUUFBakIsR0FBNEJyQixRQUFRLENBQUNxQixRQUFELENBTEY7a0JBTTVDbUIsU0FBUyxFQUFUQTtnQkFONEMsQ0FBekIsQ0F6RHpCOztjQUFBO2dCQXlESVQsWUF6REo7O2dCQUFBLE1BbUVRYixJQUFJLEtBQUssT0FuRWpCO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQTtnQkFBQSxPQW9FWWpCLEVBQUUsQ0FBQzJDLFFBQUgsQ0FBWUMsU0FBWixDQUFzQkwsU0FBdEIsRUFBaUNDLFNBQWpDLEVBQTRDO2tCQUFFTSxJQUFJLEVBQUUsSUFBUjtrQkFBY0ssUUFBUSxFQUFFO2dCQUF4QixDQUE1QyxDQXBFWjs7Y0FBQTtnQkFBQTtnQkFBQSxPQXFFWXpDLFNBQVMsQ0FBQzBDLEdBQVYsQ0FBYztrQkFBRXpDLE1BQU0sRUFBTkEsTUFBRjtrQkFBVTBDLE1BQU0sRUFBRXZCLFlBQVksQ0FBQ3dCLFVBQS9CO2tCQUEyQ2YsU0FBUyxFQUFUQTtnQkFBM0MsQ0FBZCxDQXJFWjs7Y0FBQTtnQkFBQSxpQ0EwRVM5QixRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUMvQjBDLEVBQUUsRUFBRXpCLFlBQVksQ0FBQzBCLEdBQWIsQ0FBaUIsQ0FBakIsRUFBb0JoQyxHQURPO2tCQUNGYixNQUFNLEVBQU5BLE1BREU7a0JBQ01JLElBQUksRUFBSkEsSUFETjtrQkFDWUUsSUFBSSxFQUFKQSxJQURaO2tCQUNrQkUsUUFBUSxFQUFSQSxRQURsQjtrQkFDNEJDLFFBQVEsRUFBUkE7Z0JBRDVCLENBQTFCLENBMUVUOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7O1FBK0VBO0lBQ0E7Ozs7O2dGQUNBLGtCQUFxQlosT0FBckIsRUFBOEJDLFFBQTlCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFDRTtnQkFDTWdELEtBRlIsR0FFZ0JqRCxPQUFPLENBQUNrRCxPQUFSLENBQWdCLFNBQWhCLENBRmhCOztnQkFBQSxJQUdPRCxLQUhQO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxrQ0FHdUJoRCxRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0FIdkI7O2NBQUE7Z0JBQUE7Z0JBQUEsT0FJc0JSLFdBQVcsQ0FBQ3FELEdBQVosZ0JBQXdCRixLQUF4QixFQUp0Qjs7Y0FBQTtnQkFJUUcsS0FKUjs7Z0JBQUEsSUFLT0EsS0FMUDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsa0NBS3VCbkQsUUFBUSxDQUFDRyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQTFCLENBTHZCOztjQUFBO2dCQUFBO2dCQUFBLE9BTXFCVCxRQUFRLENBQUN3RCxFQUFULENBQVlDLFVBQVosQ0FBdUIsT0FBdkIsRUFBZ0NDLE9BQWhDLENBQXdDO2tCQUFFdkMsR0FBRyxFQUFFekIsUUFBUSxDQUFDNkQsS0FBRDtnQkFBZixDQUF4QyxDQU5yQjs7Y0FBQTtnQkFNUUksSUFOUjs7Z0JBQUEsSUFPT0EsSUFQUDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsa0NBT3NCdkQsUUFBUSxDQUFDRyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQTFCLENBUHRCOztjQUFBO2dCQVNRbUQsTUFUUixHQVNpQnpELE9BQU8sQ0FBQzBELE1BQVIsQ0FBZVgsRUFBZixJQUFxQixFQVR0QztnQkFBQTtnQkFBQSxPQVU2QmxELFFBQVEsQ0FBQ3dELEVBQVQsQ0FDeEJDLFVBRHdCLENBQ2IsT0FEYSxFQUV4QkMsT0FGd0IsQ0FFaEI7a0JBQUV2QyxHQUFHLEVBQUV6QixRQUFRLENBQUNrRSxNQUFELENBQWY7a0JBQXlCdEQsTUFBTSxFQUFFcUQsSUFBSSxDQUFDeEM7Z0JBQXRDLENBRmdCLENBVjdCOztjQUFBO2dCQVVRMkMsWUFWUjs7Z0JBQUEsSUFhT0EsWUFiUDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsa0NBYTRCMUQsUUFBUSxDQUFDRyxNQUFULENBQWdCLEdBQWhCLEVBQXFCd0QsSUFBckIsQ0FBMEI7a0JBQUV0RCxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0FiNUI7O2NBQUE7Z0JBQUEsa0NBZVNMLFFBQVEsQ0FBQzJELElBQVQsQ0FBYztrQkFDbkJiLEVBQUUsRUFBRVksWUFBWSxDQUFDM0MsR0FERTtrQkFFbkJiLE1BQU0sRUFBRXdELFlBQVksQ0FBQ3hELE1BRkY7a0JBR25CSSxJQUFJLEVBQUVvRCxZQUFZLENBQUNwRCxJQUhBO2tCQUluQkUsSUFBSSxFQUFFa0QsWUFBWSxDQUFDbEQsSUFKQTtrQkFLbkJFLFFBQVEsRUFBRWdELFlBQVksQ0FBQ2hELFFBTEo7a0JBTW5CQyxRQUFRLEVBQUUrQyxZQUFZLENBQUMvQztnQkFOSixDQUFkLENBZlQ7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7UUF5QkE7SUFDQTs7Ozs7aUZBQ0Esa0JBQXNCWixPQUF0QixFQUErQkMsUUFBL0I7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNFO2dCQUNNZ0QsS0FGUixHQUVnQmpELE9BQU8sQ0FBQ2tELE9BQVIsQ0FBZ0IsU0FBaEIsQ0FGaEI7O2dCQUFBLElBR09ELEtBSFA7a0JBQUE7a0JBQUE7Z0JBQUE7O2dCQUFBLGtDQUd1QmhELFFBQVEsQ0FBQ0csTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7a0JBQUVDLEtBQUssRUFBRTtnQkFBVCxDQUExQixDQUh2Qjs7Y0FBQTtnQkFBQTtnQkFBQSxPQUlzQlIsV0FBVyxDQUFDcUQsR0FBWixnQkFBd0JGLEtBQXhCLEVBSnRCOztjQUFBO2dCQUlRRyxLQUpSOztnQkFBQSxJQUtPQSxLQUxQO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxrQ0FLdUJuRCxRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0FMdkI7O2NBQUE7Z0JBTVFNLFFBTlIsR0FNbUJaLE9BQU8sQ0FBQzZELEtBQVIsQ0FBY2pELFFBQWQsSUFBMEIsR0FON0M7Z0JBT1FrRCxVQVBSLEdBT3FCOUQsT0FBTyxDQUFDNkQsS0FBUixDQUFjRSxJQUFkLElBQXNCLENBUDNDO2dCQUFBO2dCQUFBLE9BUXFCbEUsUUFBUSxDQUFDd0QsRUFBVCxDQUFZQyxVQUFaLENBQXVCLE9BQXZCLEVBQWdDQyxPQUFoQyxDQUF3QztrQkFBRXZDLEdBQUcsRUFBRXpCLFFBQVEsQ0FBQzZELEtBQUQ7Z0JBQWYsQ0FBeEMsQ0FSckI7O2NBQUE7Z0JBUVFJLElBUlI7Z0JBU0UsSUFBSSxDQUFDQSxJQUFMLEVBQVd2RCxRQUFRLENBQUNHLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUI7Z0JBRUwwRCxnQkFYUixHQVcyQjtrQkFBRUMsSUFBSSxFQUFFLENBQUM7b0JBQUVyRCxRQUFRLEVBQVJBO2tCQUFGLENBQUQ7Z0JBQVIsQ0FYM0I7Z0JBWU1zRCxhQVpOLEdBWXNCLENBQ2xCO2tCQUFFQyxNQUFNLEVBQUVIO2dCQUFWLENBRGtCLEVBRWxCO2tCQUFFSSxLQUFLLEVBQUVOLFVBQVUsR0FBRztnQkFBdEIsQ0FGa0IsRUFHbEI7a0JBQUVPLE1BQU0sRUFBRTtnQkFBVixDQUhrQixDQVp0QjtnQkFpQkUsSUFBSXpELFFBQVEsS0FBSyxDQUFqQixFQUFvQnNELGFBQWEsR0FBRyxDQUFDO2tCQUFFRSxLQUFLLEVBQUVOLFVBQVUsR0FBRztnQkFBdEIsQ0FBRCxFQUE2QjtrQkFBRU8sTUFBTSxFQUFFO2dCQUFWLENBQTdCLENBQWhCO2dCQWpCdEI7Z0JBQUEsT0FtQnNCeEUsUUFBUSxDQUFDd0QsRUFBVCxDQUNqQkMsVUFEaUIsQ0FDTixPQURNLEVBRWpCZ0IsU0FGaUIsQ0FFUEosYUFGTyxDQW5CdEI7O2NBQUE7Z0JBbUJRcEQsS0FuQlI7Z0JBc0JReUQsVUF0QlIsR0FzQnFCLEVBdEJyQjtnQkFBQTtnQkFBQSxPQXVCUXpELEtBQUssQ0FBQzBCLE9BQU4sQ0FBYyxVQUFDZ0MsSUFBRCxFQUFVO2tCQUM1QixJQUFNQyxRQUFRLEdBQUc7b0JBQ2YxQixFQUFFLEVBQUV5QixJQUFJLENBQUN4RCxHQURNO29CQUVmYixNQUFNLEVBQUVxRSxJQUFJLENBQUNyRSxNQUZFO29CQUdmSSxJQUFJLEVBQUVpRSxJQUFJLENBQUNqRSxJQUhJO29CQUlmRSxJQUFJLEVBQUUrRCxJQUFJLENBQUMvRCxJQUpJO29CQUtmRSxRQUFRLEVBQUU2RCxJQUFJLENBQUM3RCxRQUxBO29CQU1mQyxRQUFRLEVBQUU0RCxJQUFJLENBQUM1RDtrQkFOQSxDQUFqQjtrQkFRQTJELFVBQVUsQ0FBQ0csSUFBWCxDQUFnQkQsUUFBaEI7Z0JBQ0QsQ0FWSyxDQXZCUjs7Y0FBQTtnQkFBQSxrQ0FtQ1N4RSxRQUFRLENBQUMyRCxJQUFULENBQWNXLFVBQWQsQ0FuQ1Q7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7Ozs7QUF1Q0ZJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjdFLGVBQWpCIn0=","map":{"version":3,"names":["require","ObjectID","fs","uuidv4","v4","Queue","findUserByTokenId","dbClient","redisClient","FilesController","request","response","fileQueue","userId","status","json","error","name","body","type","includes","isPublic","parentId","data","files","find","_id","toArray","parentFileArray","length","file","insertOne","fileInserted","folderPath","process","env","FOLDER_PATH","existsSync","mkdirSync","recursive","filenameUUID","localPath","clearData","Buffer","from","promises","writeFile","toString","flag","readdirSync","forEach","console","log","encoding","add","fileId","insertedId","id","ops","token","headers","get","keyID","db","collection","findOne","user","idFile","params","fileDocument","send","query","pagination","page","aggregationMatch","$and","aggregateData","$match","$skip","$limit","aggregate","filesArray","item","fileItem","push","module","exports"],"sourceRoot":"/alx/alx-files_manager/controllers/","sources":["FilesController.js"],"sourcesContent":["const { ObjectID } = require('mongodb');\nconst fs = require('fs');\nconst { v4: uuidv4 } = require('uuid');\nconst Queue = require('bull');\nconst { findUserByTokenId } = require('../utils/helpers');\nconst dbClient = require('../utils/db');\nconst redisClient = require('../utils/redis');\n\nclass FilesController {\n  /**\n   * Should create a new file in DB and in disk\n   */\n  static async postUpload(request, response) {\n    const fileQueue = new Queue('fileQueue');\n    // Retrieve the user based on the token\n    const userId = await findUserByTokenId(request);\n    if (!userId) return response.status(401).json({ error: 'Unauthorized' });\n\n    let fileInserted;\n\n    // Validate the request data\n    const { name } = request.body;\n    if (!name) return response.status(400).json({ error: 'Missing name' });\n    const { type } = request.body;\n    if (!type || !['folder', 'file', 'image'].includes(type)) { return response.status(400).json({ error: 'Missing type' }); }\n\n    const isPublic = request.body.isPublic || false;\n    const parentId = request.body.parentId || 0;\n    const { data } = request.body;\n    if (!data && !['folder'].includes(type)) { return response.status(400).json({ error: 'Missing data' }); }\n    // parentId (optional) as ID of the parent (default 0-> root)\n    if (parentId !== 0) {\n      const parentFileArray = await dbClient.files.find({ _id: ObjectID(parentId) }).toArray();\n      if (parentFileArray.length === 0) return response.status(400).json({ error: 'Parent not found' });\n      const file = parentFileArray[0];\n      if (file.type !== 'folder') return response.status(400).json({ error: 'Parent is not a folder' });\n    }\n\n    // if no data, and not a folder, error\n    if (!data && type !== 'folder') return response.status(400).json({ error: 'Missing Data' });\n\n    // if type is folder then insert into DB, owner is ObjectID(userId)\n    if (type === 'folder') {\n      fileInserted = await dbClient.files.insertOne({\n        userId: ObjectID(userId),\n        name,\n        type,\n        isPublic,\n        parentId: parentId === 0 ? parentId : ObjectID(parentId),\n      });\n    // if not folder, store file in DB unscrambled\n    } else {\n      // Create a folder for this file\n      const folderPath = process.env.FOLDER_PATH || '/tmp/files_manager';\n      if (!fs.existsSync(folderPath)) fs.mkdirSync(folderPath, { recursive: true }, () => {});\n      // the actual location is the root computer 'C:/tmp/files_manager\n\n      // Create an ID and a new path to the new file\n      const filenameUUID = uuidv4();\n      const localPath = `${folderPath}/${filenameUUID}`;\n\n      // Unscramble data and write to new path\n      const clearData = Buffer.from(data, 'base64');\n      await fs.promises.writeFile(localPath, clearData.toString(), { flag: 'w+' });\n      await fs.readdirSync('/').forEach((file) => {\n        console.log(file);\n      });\n\n      // Insert into the DB\n      fileInserted = await dbClient.files.insertOne({\n        userId: ObjectID(userId),\n        name,\n        type,\n        isPublic,\n        parentId: parentId === 0 ? parentId : ObjectID(parentId),\n        localPath,\n      });\n\n      // if the file is an image, save it in binary\n      if (type === 'image') {\n        await fs.promises.writeFile(localPath, clearData, { flag: 'w+', encoding: 'binary' });\n        await fileQueue.add({ userId, fileId: fileInserted.insertedId, localPath });\n      }\n    }\n\n    // Return the new file with a status code 201\n    return response.status(201).json({\n      id: fileInserted.ops[0]._id, userId, name, type, isPublic, parentId,\n    });\n  }\n\n  // GET /files/:id\n  // Return file by fileId\n  static async getShow(request, response) {\n    // Retrieve the user based on the token\n    const token = request.headers['x-token'];\n    if (!token) { return response.status(401).json({ error: 'Unauthorized' }); }\n    const keyID = await redisClient.get(`auth_${token}`);\n    if (!keyID) { return response.status(401).json({ error: 'Unauthorized' }); }\n    const user = await dbClient.db.collection('users').findOne({ _id: ObjectID(keyID) });\n    if (!user) { return response.status(401).json({ error: 'Unauthorized' }); }\n\n    const idFile = request.params.id || '';\n    const fileDocument = await dbClient.db\n      .collection('files')\n      .findOne({ _id: ObjectID(idFile), userId: user._id });\n    if (!fileDocument) return response.status(404).send({ error: 'Not found' });\n\n    return response.send({\n      id: fileDocument._id,\n      userId: fileDocument.userId,\n      name: fileDocument.name,\n      type: fileDocument.type,\n      isPublic: fileDocument.isPublic,\n      parentId: fileDocument.parentId,\n    });\n  }\n\n  // GET /files\n  // Return the files attached to the user\n  static async getIndex(request, response) {\n    // Retrieve the user based on the token\n    const token = request.headers['x-token'];\n    if (!token) { return response.status(401).json({ error: 'Unauthorized' }); }\n    const keyID = await redisClient.get(`auth_${token}`);\n    if (!keyID) { return response.status(401).json({ error: 'Unauthorized' }); }\n    const parentId = request.query.parentId || '0';\n    const pagination = request.query.page || 0;\n    const user = await dbClient.db.collection('users').findOne({ _id: ObjectID(keyID) });\n    if (!user) response.status(401).json({ error: 'Unauthorized' });\n\n    const aggregationMatch = { $and: [{ parentId }] };\n    let aggregateData = [\n      { $match: aggregationMatch },\n      { $skip: pagination * 20 },\n      { $limit: 20 },\n    ];\n    if (parentId === 0) aggregateData = [{ $skip: pagination * 20 }, { $limit: 20 }];\n\n    const files = await dbClient.db\n      .collection('files')\n      .aggregate(aggregateData);\n    const filesArray = [];\n    await files.forEach((item) => {\n      const fileItem = {\n        id: item._id,\n        userId: item.userId,\n        name: item.name,\n        type: item.type,\n        isPublic: item.isPublic,\n        parentId: item.parentId,\n      };\n      filesArray.push(fileItem);\n    });\n\n    return response.send(filesArray);\n  }\n}\n\nmodule.exports = FilesController;\n"],"mappings":"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"}},"mtime":1661498767552},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/utils/helpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findUserById = findUserById;\nexports.findUserByTokenId = findUserByTokenId;\n\nvar _redis = _interopRequireDefault(require(\"./redis\"));\n\nvar _db = _interopRequireDefault(require(\"./db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction getAuthToken(_x) {\n  return _getAuthToken.apply(this, arguments);\n} // checks authentication against verified information\n// returns userId of user\n\n\nfunction _getAuthToken() {\n  _getAuthToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request) {\n    var token;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            token = request.headers['x-token'];\n            return _context.abrupt(\"return\", \"auth_\".concat(token));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getAuthToken.apply(this, arguments);\n}\n\nfunction findUserByTokenId(_x2) {\n  return _findUserByTokenId.apply(this, arguments);\n} // Gets user by userId\n// Returns exactly the first user found\n\n\nfunction _findUserByTokenId() {\n  _findUserByTokenId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request) {\n    var key, userId;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getAuthToken(request);\n\n          case 2:\n            key = _context2.sent;\n            _context2.next = 5;\n            return _redis[\"default\"].get(key);\n\n          case 5:\n            userId = _context2.sent;\n            return _context2.abrupt(\"return\", userId || null);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _findUserByTokenId.apply(this, arguments);\n}\n\nfunction findUserById(_x3) {\n  return _findUserById.apply(this, arguments);\n}\n\nfunction _findUserById() {\n  _findUserById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(userId) {\n    var userExistsArray;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _db[\"default\"].users.find(\"ObjectId(\\\"\".concat(userId, \"\\\")\")).toArray();\n\n          case 2:\n            userExistsArray = _context3.sent;\n            return _context3.abrupt(\"return\", userExistsArray[0] || null);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _findUserById.apply(this, arguments);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBdXRoVG9rZW4iLCJyZXF1ZXN0IiwidG9rZW4iLCJoZWFkZXJzIiwiZmluZFVzZXJCeVRva2VuSWQiLCJrZXkiLCJyZWRpc0NsaWVudCIsImdldCIsInVzZXJJZCIsImZpbmRVc2VyQnlJZCIsImRiQ2xpZW50IiwidXNlcnMiLCJmaW5kIiwidG9BcnJheSIsInVzZXJFeGlzdHNBcnJheSJdLCJzb3VyY2VSb290IjoiL2FseC9hbHgtZmlsZXNfbWFuYWdlci91dGlscy8iLCJzb3VyY2VzIjpbImhlbHBlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzQ2xpZW50IGZyb20gJy4vcmVkaXMnO1xuaW1wb3J0IGRiQ2xpZW50IGZyb20gJy4vZGInO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoVG9rZW4ocmVxdWVzdCkge1xuICBjb25zdCB0b2tlbiA9IHJlcXVlc3QuaGVhZGVyc1sneC10b2tlbiddO1xuICByZXR1cm4gYGF1dGhfJHt0b2tlbn1gO1xufVxuXG4vLyBjaGVja3MgYXV0aGVudGljYXRpb24gYWdhaW5zdCB2ZXJpZmllZCBpbmZvcm1hdGlvblxuLy8gcmV0dXJucyB1c2VySWQgb2YgdXNlclxuYXN5bmMgZnVuY3Rpb24gZmluZFVzZXJCeVRva2VuSWQocmVxdWVzdCkge1xuICBjb25zdCBrZXkgPSBhd2FpdCBnZXRBdXRoVG9rZW4ocmVxdWVzdCk7XG4gIGNvbnN0IHVzZXJJZCA9IGF3YWl0IHJlZGlzQ2xpZW50LmdldChrZXkpO1xuICByZXR1cm4gdXNlcklkIHx8IG51bGw7XG59XG5cbi8vIEdldHMgdXNlciBieSB1c2VySWRcbi8vIFJldHVybnMgZXhhY3RseSB0aGUgZmlyc3QgdXNlciBmb3VuZFxuYXN5bmMgZnVuY3Rpb24gZmluZFVzZXJCeUlkKHVzZXJJZCkge1xuICBjb25zdCB1c2VyRXhpc3RzQXJyYXkgPSBhd2FpdCBkYkNsaWVudC51c2Vycy5maW5kKGBPYmplY3RJZChcIiR7dXNlcklkfVwiKWApLnRvQXJyYXkoKTtcbiAgcmV0dXJuIHVzZXJFeGlzdHNBcnJheVswXSB8fCBudWxsO1xufVxuXG5leHBvcnQge1xuICBmaW5kVXNlckJ5VG9rZW5JZCwgZmluZFVzZXJCeUlkLFxufTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7OzsrQ0FBQSxvSjs7Ozs7O1NBRWVBLFk7O0VBS2Y7QUFDQTs7Ozs2RUFOQSxpQkFBNEJDLE9BQTVCO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNRQyxLQURSLEdBQ2dCRCxPQUFPLENBQUNFLE9BQVIsQ0FBZ0IsU0FBaEIsQ0FEaEI7WUFBQSxnREFFaUJELEtBRmpCOztVQUFBO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLEM7Ozs7U0FPZUUsaUI7O0VBTWY7QUFDQTs7OztrRkFQQSxrQkFBaUNILE9BQWpDO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBQUEsT0FDb0JELFlBQVksQ0FBQ0MsT0FBRCxDQURoQzs7VUFBQTtZQUNRSSxHQURSO1lBQUE7WUFBQSxPQUV1QkMsaUJBQUEsQ0FBWUMsR0FBWixDQUFnQkYsR0FBaEIsQ0FGdkI7O1VBQUE7WUFFUUcsTUFGUjtZQUFBLGtDQUdTQSxNQUFNLElBQUksSUFIbkI7O1VBQUE7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQzs7OztTQVFlQyxZOzs7Ozs2RUFBZixrQkFBNEJELE1BQTVCO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBQUEsT0FDZ0NFLGNBQUEsQ0FBU0MsS0FBVCxDQUFlQyxJQUFmLHNCQUFpQ0osTUFBakMsVUFBNkNLLE9BQTdDLEVBRGhDOztVQUFBO1lBQ1FDLGVBRFI7WUFBQSxrQ0FFU0EsZUFBZSxDQUFDLENBQUQsQ0FBZixJQUFzQixJQUYvQjs7VUFBQTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDIn0=","map":{"version":3,"names":["getAuthToken","request","token","headers","findUserByTokenId","key","redisClient","get","userId","findUserById","dbClient","users","find","toArray","userExistsArray"],"sourceRoot":"/alx/alx-files_manager/utils/","sources":["helpers.js"],"sourcesContent":["import redisClient from './redis';\nimport dbClient from './db';\n\nasync function getAuthToken(request) {\n  const token = request.headers['x-token'];\n  return `auth_${token}`;\n}\n\n// checks authentication against verified information\n// returns userId of user\nasync function findUserByTokenId(request) {\n  const key = await getAuthToken(request);\n  const userId = await redisClient.get(key);\n  return userId || null;\n}\n\n// Gets user by userId\n// Returns exactly the first user found\nasync function findUserById(userId) {\n  const userExistsArray = await dbClient.users.find(`ObjectId(\"${userId}\")`).toArray();\n  return userExistsArray[0] || null;\n}\n\nexport {\n  findUserByTokenId, findUserById,\n};"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;+CAAA,oJ;;;;;;SAEeA,Y;;EAKf;AACA;;;;6EANA,iBAA4BC,OAA5B;IAAA;IAAA;MAAA;QAAA;UAAA;YACQC,KADR,GACgBD,OAAO,CAACE,OAAR,CAAgB,SAAhB,CADhB;YAAA,gDAEiBD,KAFjB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C;;;;SAOeE,iB;;EAMf;AACA;;;;kFAPA,kBAAiCH,OAAjC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACoBD,YAAY,CAACC,OAAD,CADhC;;UAAA;YACQI,GADR;YAAA;YAAA,OAEuBC,iBAAA,CAAYC,GAAZ,CAAgBF,GAAhB,CAFvB;;UAAA;YAEQG,MAFR;YAAA,kCAGSA,MAAM,IAAI,IAHnB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C;;;;SAQeC,Y;;;;;6EAAf,kBAA4BD,MAA5B;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACgCE,cAAA,CAASC,KAAT,CAAeC,IAAf,sBAAiCJ,MAAjC,UAA6CK,OAA7C,EADhC;;UAAA;YACQC,eADR;YAAA,kCAESA,eAAe,CAAC,CAAD,CAAf,IAAsB,IAF/B;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}},"mtime":1661498766260},"{\"assumptions\":{},\"sourceRoot\":\"/alx/alx-files_manager/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/alx/alx-files_manager\",\"filename\":\"/alx/alx-files_manager/controllers/UsersController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/alx/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar mongo = require('mongodb');\n\nvar _require = require('crypto'),\n    createHash = _require.createHash;\n\nvar dbClient = require('../utils/db');\n\nvar redisClient = require('../utils/redis');\n\nvar UsersController = /*#__PURE__*/function () {\n  function UsersController() {\n    _classCallCheck(this, UsersController);\n  }\n\n  _createClass(UsersController, null, [{\n    key: \"postNew\",\n    value: function () {\n      var _postNew = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var _request$body, email, password, collection, cursor, hash, user;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _request$body = request.body, email = _request$body.email, password = _request$body.password;\n\n                if (email) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Missing email'\n                }));\n\n              case 4:\n                if (password) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Missing password'\n                }));\n\n              case 6:\n                collection = dbClient.db.collection('users');\n                cursor = collection.find({\n                  email: email\n                });\n                _context.next = 10;\n                return cursor.count();\n\n              case 10:\n                _context.t0 = _context.sent;\n\n                if (!(_context.t0 > 0)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", response.status(400).json({\n                  error: 'Already exist'\n                }));\n\n              case 13:\n                hash = createHash('sha1');\n                hash.update(password);\n                _context.next = 17;\n                return collection.insertOne({\n                  email: email,\n                  password: hash.digest('hex')\n                });\n\n              case 17:\n                user = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  email: email,\n                  id: user.insertedId\n                }));\n\n              case 21:\n                _context.prev = 21;\n                _context.t1 = _context[\"catch\"](0);\n                console.log(_context.t1);\n\n              case 24:\n                return _context.abrupt(\"return\", null);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 21]]);\n      }));\n\n      function postNew(_x, _x2) {\n        return _postNew.apply(this, arguments);\n      }\n\n      return postNew;\n    }()\n  }, {\n    key: \"getMe\",\n    value: function () {\n      var _getMe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n        var token, id, objectId, user;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                token = req.headers['x-token'];\n                _context2.next = 3;\n                return redisClient.get(\"auth_\".concat(token));\n\n              case 3:\n                id = _context2.sent;\n                objectId = new mongo.ObjectID(id);\n                _context2.next = 7;\n                return dbClient.db.collection('users').findOne({\n                  _id: objectId\n                });\n\n              case 7:\n                user = _context2.sent;\n\n                if (user) {\n                  _context2.next = 10;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", res.status(401).json({\n                  error: 'Unauthorized'\n                }));\n\n              case 10:\n                return _context2.abrupt(\"return\", res.json({\n                  id: id,\n                  email: user.email\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getMe(_x3, _x4) {\n        return _getMe.apply(this, arguments);\n      }\n\n      return getMe;\n    }()\n  }]);\n\n  return UsersController;\n}();\n\nmodule.exports = UsersController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nbyIsInJlcXVpcmUiLCJjcmVhdGVIYXNoIiwiZGJDbGllbnQiLCJyZWRpc0NsaWVudCIsIlVzZXJzQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29sbGVjdGlvbiIsImRiIiwiY3Vyc29yIiwiZmluZCIsImNvdW50IiwiaGFzaCIsInVwZGF0ZSIsImluc2VydE9uZSIsImRpZ2VzdCIsInVzZXIiLCJpZCIsImluc2VydGVkSWQiLCJjb25zb2xlIiwibG9nIiwicmVxIiwicmVzIiwidG9rZW4iLCJoZWFkZXJzIiwiZ2V0Iiwib2JqZWN0SWQiLCJPYmplY3RJRCIsImZpbmRPbmUiLCJfaWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvYWx4L2FseC1maWxlc19tYW5hZ2VyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlcnNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvID0gcmVxdWlyZSgnbW9uZ29kYicpO1xuY29uc3QgeyBjcmVhdGVIYXNoIH0gPSByZXF1aXJlKCdjcnlwdG8nKTtcbmNvbnN0IGRiQ2xpZW50ID0gcmVxdWlyZSgnLi4vdXRpbHMvZGInKTtcbmNvbnN0IHJlZGlzQ2xpZW50ID0gcmVxdWlyZSgnLi4vdXRpbHMvcmVkaXMnKTtcblxuY2xhc3MgVXNlcnNDb250cm9sbGVyIHtcbiAgc3RhdGljIGFzeW5jIHBvc3ROZXcocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcXVlc3QuYm9keTtcblxuICAgICAgaWYgKCFlbWFpbCkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyBlbWFpbCcgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgcGFzc3dvcmQnIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gZGJDbGllbnQuZGIuY29sbGVjdGlvbigndXNlcnMnKTtcbiAgICAgIGNvbnN0IGN1cnNvciA9IGNvbGxlY3Rpb24uZmluZCh7IGVtYWlsIH0pO1xuICAgICAgaWYgKGF3YWl0IGN1cnNvci5jb3VudCgpID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnQWxyZWFkeSBleGlzdCcgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBoYXNoID0gY3JlYXRlSGFzaCgnc2hhMScpO1xuICAgICAgaGFzaC51cGRhdGUocGFzc3dvcmQpO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHsgZW1haWwsIHBhc3N3b3JkOiBoYXNoLmRpZ2VzdCgnaGV4JykgfSk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAxKS5qc29uKHsgZW1haWwsIGlkOiB1c2VyLmluc2VydGVkSWQgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRNZShyZXEsIHJlcykge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnNbJ3gtdG9rZW4nXTtcbiAgICBjb25zdCBpZCA9IGF3YWl0IHJlZGlzQ2xpZW50LmdldChgYXV0aF8ke3Rva2VufWApO1xuICAgIGNvbnN0IG9iamVjdElkID0gbmV3IG1vbmdvLk9iamVjdElEKGlkKTtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZGJDbGllbnQuZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHsgX2lkOiBvYmplY3RJZCB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXMuanNvbih7IGlkLCBlbWFpbDogdXNlci5lbWFpbCB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJzQ29udHJvbGxlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7OzsrQ0FDQSxvSjs7Ozs7Ozs7Ozs7O0FBREEsSUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxlQUF1QkEsT0FBTyxDQUFDLFFBQUQsQ0FBOUI7QUFBQSxJQUFRQyxVQUFSLFlBQVFBLFVBQVI7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHRixPQUFPLENBQUMsYUFBRCxDQUF4Qjs7QUFDQSxJQUFNRyxXQUFXLEdBQUdILE9BQU8sQ0FBQyxnQkFBRCxDQUEzQjs7SUFFTUksZTs7Ozs7Ozs7Z0ZBQ0osaUJBQXFCQyxPQUFyQixFQUE4QkMsUUFBOUI7UUFBQTs7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtnQkFBQSxnQkFFZ0NELE9BQU8sQ0FBQ0UsSUFGeEMsRUFFWUMsS0FGWixpQkFFWUEsS0FGWixFQUVtQkMsUUFGbkIsaUJBRW1CQSxRQUZuQjs7Z0JBQUEsSUFJU0QsS0FKVDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsaUNBS2FGLFFBQVEsQ0FBQ0ksTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7a0JBQUVDLEtBQUssRUFBRTtnQkFBVCxDQUExQixDQUxiOztjQUFBO2dCQUFBLElBUVNILFFBUlQ7a0JBQUE7a0JBQUE7Z0JBQUE7O2dCQUFBLGlDQVNhSCxRQUFRLENBQUNJLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxLQUFLLEVBQUU7Z0JBQVQsQ0FBMUIsQ0FUYjs7Y0FBQTtnQkFZVUMsVUFaVixHQVl1QlgsUUFBUSxDQUFDWSxFQUFULENBQVlELFVBQVosQ0FBdUIsT0FBdkIsQ0FadkI7Z0JBYVVFLE1BYlYsR0FhbUJGLFVBQVUsQ0FBQ0csSUFBWCxDQUFnQjtrQkFBRVIsS0FBSyxFQUFMQTtnQkFBRixDQUFoQixDQWJuQjtnQkFBQTtnQkFBQSxPQWNjTyxNQUFNLENBQUNFLEtBQVAsRUFkZDs7Y0FBQTtnQkFBQTs7Z0JBQUEsb0JBYytCLENBZC9CO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxpQ0FlYVgsUUFBUSxDQUFDSSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQTFCLENBZmI7O2NBQUE7Z0JBaUJVTSxJQWpCVixHQWlCaUJqQixVQUFVLENBQUMsTUFBRCxDQWpCM0I7Z0JBa0JJaUIsSUFBSSxDQUFDQyxNQUFMLENBQVlWLFFBQVo7Z0JBbEJKO2dCQUFBLE9BbUJ1QkksVUFBVSxDQUFDTyxTQUFYLENBQXFCO2tCQUFFWixLQUFLLEVBQUxBLEtBQUY7a0JBQVNDLFFBQVEsRUFBRVMsSUFBSSxDQUFDRyxNQUFMLENBQVksS0FBWjtnQkFBbkIsQ0FBckIsQ0FuQnZCOztjQUFBO2dCQW1CVUMsSUFuQlY7Z0JBQUEsaUNBcUJXaEIsUUFBUSxDQUFDSSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUgsS0FBSyxFQUFMQSxLQUFGO2tCQUFTZSxFQUFFLEVBQUVELElBQUksQ0FBQ0U7Z0JBQWxCLENBQTFCLENBckJYOztjQUFBO2dCQUFBO2dCQUFBO2dCQXVCSUMsT0FBTyxDQUFDQyxHQUFSOztjQXZCSjtnQkFBQSxpQ0F5QlMsSUF6QlQ7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7OzhFQTRCQSxrQkFBbUJDLEdBQW5CLEVBQXdCQyxHQUF4QjtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ1FDLEtBRFIsR0FDZ0JGLEdBQUcsQ0FBQ0csT0FBSixDQUFZLFNBQVosQ0FEaEI7Z0JBQUE7Z0JBQUEsT0FFbUIzQixXQUFXLENBQUM0QixHQUFaLGdCQUF3QkYsS0FBeEIsRUFGbkI7O2NBQUE7Z0JBRVFOLEVBRlI7Z0JBR1FTLFFBSFIsR0FHbUIsSUFBSWpDLEtBQUssQ0FBQ2tDLFFBQVYsQ0FBbUJWLEVBQW5CLENBSG5CO2dCQUFBO2dCQUFBLE9BSXFCckIsUUFBUSxDQUFDWSxFQUFULENBQVlELFVBQVosQ0FBdUIsT0FBdkIsRUFBZ0NxQixPQUFoQyxDQUF3QztrQkFBRUMsR0FBRyxFQUFFSDtnQkFBUCxDQUF4QyxDQUpyQjs7Y0FBQTtnQkFJUVYsSUFKUjs7Z0JBQUEsSUFNT0EsSUFOUDtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBQUEsa0NBT1dNLEdBQUcsQ0FBQ2xCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtrQkFBRUMsS0FBSyxFQUFFO2dCQUFULENBQXJCLENBUFg7O2NBQUE7Z0JBQUEsa0NBVVNnQixHQUFHLENBQUNqQixJQUFKLENBQVM7a0JBQUVZLEVBQUUsRUFBRkEsRUFBRjtrQkFBTWYsS0FBSyxFQUFFYyxJQUFJLENBQUNkO2dCQUFsQixDQUFULENBVlQ7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7Ozs7QUFjRjRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpDLGVBQWpCIn0=","map":{"version":3,"names":["mongo","require","createHash","dbClient","redisClient","UsersController","request","response","body","email","password","status","json","error","collection","db","cursor","find","count","hash","update","insertOne","digest","user","id","insertedId","console","log","req","res","token","headers","get","objectId","ObjectID","findOne","_id","module","exports"],"sourceRoot":"/alx/alx-files_manager/controllers/","sources":["UsersController.js"],"sourcesContent":["const mongo = require('mongodb');\nconst { createHash } = require('crypto');\nconst dbClient = require('../utils/db');\nconst redisClient = require('../utils/redis');\n\nclass UsersController {\n  static async postNew(request, response) {\n    try {\n      const { email, password } = request.body;\n\n      if (!email) {\n        return response.status(400).json({ error: 'Missing email' });\n      }\n\n      if (!password) {\n        return response.status(400).json({ error: 'Missing password' });\n      }\n\n      const collection = dbClient.db.collection('users');\n      const cursor = collection.find({ email });\n      if (await cursor.count() > 0) {\n        return response.status(400).json({ error: 'Already exist' });\n      }\n      const hash = createHash('sha1');\n      hash.update(password);\n      const user = await collection.insertOne({ email, password: hash.digest('hex') });\n\n      return response.status(201).json({ email, id: user.insertedId });\n    } catch (err) {\n      console.log(err);\n    }\n    return null;\n  }\n\n  static async getMe(req, res) {\n    const token = req.headers['x-token'];\n    const id = await redisClient.get(`auth_${token}`);\n    const objectId = new mongo.ObjectID(id);\n    const user = await dbClient.db.collection('users').findOne({ _id: objectId });\n\n    if (!user) {\n      return res.status(401).json({ error: 'Unauthorized' });\n    }\n\n    return res.json({ id, email: user.email });\n  }\n}\n\nmodule.exports = UsersController;\n"],"mappings":"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"}},"mtime":1661250326361}}